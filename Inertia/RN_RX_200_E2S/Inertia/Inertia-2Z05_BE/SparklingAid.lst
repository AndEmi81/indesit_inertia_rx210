   1                             		.file	"SparklingAid.c"
   2                             		.section P,"ax"
   3                             	.Ltext0:
   4                             		.section	.text.SPA_uP_SparklingAid_Init,"ax",@progbits
   5                             		.global	_SPA_uP_SparklingAid_Init
   7                             	_SPA_uP_SparklingAid_Init:
   8                             	.LFB1:
   9                             		.file 1 "C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules/SparklingAid.c"
   1:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** /**
   2:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** Source File 
   3:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 
   4:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** \file    SparklingAid.c
   5:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** \ingroup SparklingAid
   6:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** \date    17/03/2008
   7:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** \author  Roberto Fioravanti
   8:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** \version 1.0.0
   9:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** */
  10:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 
  11:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** /*
  12:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** Copyright (c) 2004-2008, Indesit Company, IDD.
  13:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** Tutti i diritti sono riservati. All rights reserved.
  14:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** */
  15:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 
  16:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** /* Old Versions
  17:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** \version 
  18:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** \date    
  19:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** \author Roberto Fioravanti
  20:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** */
  21:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 
  22:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 
  23:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** /** 
  24:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** \note : 
  25:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** */ 
  26:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 
  27:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 
  28:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** /* ******** */
  29:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** /* Includes */
  30:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** /* ******** */
  31:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 
  32:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** #include "CstmHeaders.h"
  33:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 
  34:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** /* ****************** */
  35:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** /* Defines and Macros */
  36:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** /* ****************** */
  37:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** /*#define SPA_DBG*/
  38:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 
  39:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** /* *************************** */
  40:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** /* Typedef, Structs and Unions */
  41:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** /* *************************** */
  42:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** struct up_Spa_setting_data_s
  43:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** {
  44:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****   uint8_t d1;
  45:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****   uint8_t d1_d2;
  46:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****   uint8_t d2;
  47:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****   uint8_t delta;
  48:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****   uint8_t t1_d1;
  49:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****   uint8_t t2_d2;
  50:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** };
  51:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 
  52:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** /* **************************** */
  53:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** /* Prototype of local functions */
  54:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** /* **************************** */
  55:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** void SPA_uP_SparklingAid_Init(void);
  56:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** uint8_t SPA_uP_SparklingAid_StepMgmt(uint8_t highStatement, uint8_t lowStatement);
  57:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 
  58:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** /* ****************** */
  59:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** /* Exported variables */
  60:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** /* ****************** */
  61:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 
  62:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** /* **************** */
  63:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** /* Global variables */
  64:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** /* **************** */
  65:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** const struct up_Spa_setting_data_s spatable=
  66:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** {
  67:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****   2,3,4,20,6,7
  68:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** };
  69:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 
  70:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** /* ***************** */
  71:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** /* Exported function */
  72:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** /* ***************** */
  73:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 
  74:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** /**
  75:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** Gestisce l'esecuzione del microprogramma SparklingAid.
  76:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** Inizializza la macchina a stati (SPA_uP_SparklingAid_Init).
  77:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** sospende il microprogramma in particolari condizioni (SPA_uP_SparklingAid_Suspend).
  78:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** Esegue la macchina a stati associata al microprogramma (SPA_uP_SparklingAid_StepMgmt).
  79:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 
  80:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** \param [in] HighStatement specifica l'high statement (opcode +  modificatori F0-F1 + N flag + T fla
  81:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** \param [in] LowStatement specifica il low statement (displacement ai dati) del microprogramma.
  82:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****  
  83:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** \retvalue S_OK se la condizione di avanzamento passo per il microprogramma � verificata (nel caso
  84:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** almeno una volta)
  85:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** \retvalue S_FALSE se non � ancora verificata
  86:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 
  87:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** \version		1.0.0
  88:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** \date 			26/02/2008
  89:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** \author			Roberto Fioravanti
  90:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 
  91:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** \todo       -La condizione sulla porta viene testata solo se non ci sono faults
  92:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****             
  93:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** */
  94:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 
  95:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 
  96:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** uint8_t SPA_uP_SparklingAid_Exe( uint8_t highStatement, uint8_t lowStatement)
  97:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** {
  98:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** uint8_t nRet=S_FALSE;
  99:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 
 100:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 
 101:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****     /* Init passo o restore from backup */
 102:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****   if ( (FALSE == Interpreter_Data[0].stepInitialized) )
 103:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****   {
 104:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****     
 105:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 		SPA_uP_SparklingAid_Init();    
 106:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 		return nRet;
 107:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****   } 
 108:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****   
 109:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****   /* TODO1: condizioni particolari in cui deve essere sospesa l'attivit� del microprogramma */
 110:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** /*    
 111:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****   if( !Alarm )
 112:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****   {
 113:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** */	
 114:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****     if (uPDoorStatus == UP_DOOR_WAIT)
 115:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****     {/* porta aperta o in attesa di timeout dopo la chiusura o delay MR -> il uP va sospeso */
 116:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****    
 117:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****   /*  DisableCounter(&uP_SparklingAid_Data.timer); */
 118:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 	  SWTC_Stop((SWTC_CountersType)MP_SPARKLINGAID_M_COUNTER);
 119:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 	  	
 120:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 		  if( (uP_SparklingAid_Data. step== SPRKLING_T1 ) || 
 121:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****                     (uP_SparklingAid_Data.step == SPRKLING_T2) )
 122:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       {
 123:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****         uP_SparklingAid_Data.cmd.RepeatTurbRead = TRUE;
 124:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       }
 125:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 
 126:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 
 127:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 			return S_FALSE;  				    
 128:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 		}
 129:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** /*		
 130:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 	}
 131:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** */
 132:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 	nRet= SPA_uP_SparklingAid_StepMgmt(highStatement, lowStatement);
 133:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****   
 134:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****   return nRet;   
 135:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** }
 136:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 
 137:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** /* ************** */
 138:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** /* Local Function */
 139:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** /* ************** */
 140:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 
 141:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** /**
 142:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** Inizializza la macchina a stati del microprogramma SparklingAid.
 143:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 
 144:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** \param nesssuno
 145:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** \return nessuno
 146:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 
 147:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** \version		1.0.0
 148:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** \date 			26/02/2008
 149:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** \author			Roberto Fioravanti
 150:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 
 151:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** */
 152:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** void SPA_uP_SparklingAid_Init(void) 
 153:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** {
  10                             		.loc 1 153 0
 154:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****   uP_SparklingAid_Data.step = SPRKLING_INIT;
  11                             		.loc 1 154 0
  12 0000 FB E2 00 00 00 00       		mov.L	#_uP_SparklingAid_Data, r14
  13 0006 F9 E4 03 00             		mov.B	#0, 3[r14]
  14 000a 02                      		rts
  15                             	.LFE1:
  17                             		.section	.text.SPA_uP_SparklingAid_StepMgmt,"ax",@progbits
  18                             		.global	_SPA_uP_SparklingAid_StepMgmt
  20                             	_SPA_uP_SparklingAid_StepMgmt:
  21                             	.LFB2:
 155:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** }
 156:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 
 157:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 
 158:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 
 159:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 
 160:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** /**
 161:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** Gestisce l'avanzamento della macchina a stati del microprogramma SparklingAid.
 162:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 
 163:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** \par \b Opzioni:
 164:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 1-rilascio brillantante normale 
 165:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 2-rilascio brillantante con lettura di torbidit�
 166:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 
 167:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** \par \b Condizione di avanzamento:
 168:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** tutti gli step sono stati eseguiti:
 169:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 
 170:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 1- normale
 171:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****     doppia attivazione dispenser 
 172:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 2- con lettura di torbidit�
 173:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****     doppia lettura del sensore di torbidit� separate da una doppia attivazione dispenser.
 174:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****     Confronto tra i valori delle due letture per la notifica dello stato del brillantante.
 175:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 
 176:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** \param [in] HighStatement specifica l'high statement (opcode +  modificatori F0-F1 + N flag + T fla
 177:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** \param [in] LowStatement specifica il low statement (displacement ai dati) del microprogramma.
 178:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****  
 179:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** \retvalue S_OK se la condizione di avanzamento passo per il microprogramma � verificata
 180:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** \retvalue S_FALSE se non � ancora verificata
 181:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 
 182:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** \version		1.0.0
 183:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** \date 			26/02/2008
 184:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** \author			Roberto Fioravanti
 185:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 
 186:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** \todo       -La condizione sulla porta viene testata solo se non ci sono faults
 187:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****             
 188:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** */
 189:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** uint8_t SPA_uP_SparklingAid_StepMgmt(uint8_t highStatement, uint8_t lowStatement) 
 190:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** {
  22                             		.loc 1 190 0
  23                             	.LVL0:
  24 0000 6E 7B                   		pushm	r7-r11
  25                             	.LCFI0:
 191:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****   uint8_t nRet=S_FALSE;
 192:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****   
 193:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** /*  if(uP_SparklingAid_Data.cmd.RepeatTurbRead ==TRUE)
 194:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****   {
 195:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****     uP_SparklingAid_Data.IdRead=TurbidityReads.id;
 196:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****     uP_SparklingAid_Data.cmd.RepeatTurbRead =FALSE;
 197:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****     HIO_trbReadEnable(TURBSENS_READ_up_SPA);
 198:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****   }*/ /*AE FIXME Manca il modulo di piattaforma*/
 199:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****   
 200:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****   switch(uP_SparklingAid_Data.step) 
  26                             		.loc 1 200 0
  27 0002 FB 72 00 00 00 00       		mov.L	#_uP_SparklingAid_Data, r7
  28 0008 59 7E 03                		movu.B	3[r7], r14
  29 000b 61 9E                   		cmp	#9, r14
  30 000d 25 05 38 82 02          		bgtu	.L3
  31 0012 FB 72 00 00 00 00       		mov.L	#.L13, r7
  32 0018 FE 6E 77                		mov.L	[r14,r7], r7
  33 001b CF 1A                   		mov.B	r1, r10
  34                             		
  35 001d 7F 07                   	1:jmp	r7
  36                             		.section	.rodata.SPA_uP_SparklingAid_StepMgmt,"a",@progbits
  37                             		.balign 4
  38                             		.balign 4
  39                             	.L13:
  40 0000 00 00 00 00             		.long .L4
  41 0004 00 00 00 00             		.long .L5
  42 0008 00 00 00 00             		.long .L6
  43 000c 00 00 00 00             		.long .L7
  44 0010 00 00 00 00             		.long .L8
  45 0014 00 00 00 00             		.long .L9
  46 0018 00 00 00 00             		.long .L10
  47 001c 00 00 00 00             		.long .L11
  48 0020 00 00 00 00             		.long .L36
  49 0024 00 00 00 00             		.long .L36
  50                             		.section	.text.SPA_uP_SparklingAid_StepMgmt
  51                             	.L4:
  52                             	.LBB4:
 201:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****   {
 202:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****     case SPRKLING_INIT:
 203:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** #ifndef SPA_DBG
 204:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       if (BasicLoader(PTR_UP_SPARKLING_AID, lowStatement, &uPSparklingAid_setting_data) != S_OK ) 
  53                             		.loc 1 204 0
  54 001f 75 41 17                		mov	#23, r1
  55                             	.LVL1:
  56 0022 FB 32 00 00 00 00       		mov.L	#_uPSparklingAid_setting_data, r3
  57 0028 05 00 00 00             		bsr	_BasicLoader
  58                             	.LVL2:
  59 002c 5B 12                   		movu.B	r1, r2
  60 002e 61 02                   		cmp	#0, r2
  61 0030 20 0A                   		beq	.L14
 205:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****   		{		 			
 206:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****   				uP_SparklingAid_Data.step = SPRKLING_ERROR;
  62                             		.loc 1 206 0
  63 0032 FB 72 00 00 00 00       		mov.L	#_uP_SparklingAid_Data, r7
  64 0038 2E 54                   		bra	.L62
  65                             	.L14:
 207:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****   				return S_FALSE;
 208:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****   		}
 209:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** #else
 210:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       uPSparklingAid_setting_data.Data=&spatable;
 211:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       uPSparklingAid_setting_data.DataLenght=sizeof(spatable)/2;      
 212:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** #endif  		
 213:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 
 214:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****   		if (RinseAidFunctionValue==0)
  66                             		.loc 1 214 0
  67 003a FB 72 00 00 00 00       		mov.L	#_RinseAidFunctionValue, r7
  68 0040 58 77                   		movu.B	[r7], r7
  69 0042 61 07                   		cmp	#0, r7
  70 0044 3A 5E 02                		beq	.L15
 215:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 		{
 216:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 			return S_OK;
 217:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 		}
 218:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 		SWTC_SetMValue((SWTC_CountersType)MP_SPARKLINGAID_M_COUNTER,0);
  71                             		.loc 1 218 0
  72 0047 75 41 16                		mov	#22, r1
  73 004a 05 00 00 00             		bsr	_SWTC_SetMValue
  74                             	.LVL3:
 219:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 		
 220:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****   		switch((highStatement & SPRKLING_OPTION))
  75                             		.loc 1 220 0
  76 004e EF A1                   		mov.L	r10, r1
  77 0050 75 21 30                		and	#48, r1
  78 0053 75 51 10                		cmp	#16, r1
  79 0056 20 22                   		beq	.L18
  80 0058 FB 72 00 00 00 00       		mov.L	#_uP_SparklingAid_Data, r7
  81 005e 24 08                   		bgtu	.L20
  82 0060 61 01                   		cmp	#0, r1
  83 0062 20 10                   		beq	.L17
  84 0064 2E 42                   		bra	.L16
  85                             	.L20:
  86 0066 75 51 20                		cmp	#32, r1
  87 0069 20 31                   		beq	.L19
  88 006b 75 51 30                		cmp	#48, r1
  89 006e 21 38                   		bne	.L16
  90 0070 2E 08                   		bra	.L18
  91                             	.L17:
 221:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       {
 222:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****         case SPRKLING_NORMAL_OPT:
 223:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****           
 224:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****           uP_SparklingAid_Data.step=SPRKLING_WAIT_FOR_D1;
  92                             		.loc 1 224 0
  93 0072 3C 73 02                		mov.B	#2, 3[r7]
  94 0075 38 9B 01                		bra	.L59
  95                             	.L18:
 225:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****           break;
 226:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****         
 227:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****         case SPRKLING_WITH_TURB_READ_OPT:
 228:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 		case SPRKLING_WITH_REG_TURB_REG_OPT:
 229:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****           if(uPSparklingAid_setting_data.DataLenght<SPRKLING_TABLE_TURB_OPT_LEN)
  96                             		.loc 1 229 0
  97 0078 FB 72 00 00 00 00       		mov.L	#_uPSparklingAid_setting_data, r7
  98 007e 59 7A 04                		movu.B	4[r7], r10
  99                             	.LVL4:
 100 0081 FB 72 00 00 00 00       		mov.L	#_uP_SparklingAid_Data, r7
 101 0087 61 2A                   		cmp	#2, r10
 102 0089 24 0B                   		bgtu	.L21
 103 008b 03                      		.balign 2,3,4
 104                             	.L62:
 230:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****           {        
 231:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****             uP_SparklingAid_Data.step=SPRKLING_ERROR;
 105                             		.loc 1 231 0
 106 008c 3C 73 09                		mov.B	#9, 3[r7]
 232:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****             return S_FALSE;
 107                             		.loc 1 232 0
 108 008f 66 17                   		mov	#1, r7
 109 0091 38 11 02                		bra	.L15
 110                             	.L21:
 233:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****           }
 234:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****           uP_SparklingAid_Data.step=SPRKLING_T1;
 111                             		.loc 1 234 0
 112 0094 3C 73 01                		mov.B	#1, 3[r7]
 113 0097 38 6F 01                		bra	.L60
 114                             	.LVL5:
 115                             	.L19:
 235:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****           uP_SparklingAid_Data.cmd.RepeatTurbRead=TRUE;
 236:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****           
 237:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****           break;
 238:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 		case SPRKLING_WITH_REGULATION_OPT:
 239:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 			uP_SparklingAid_Data.step=SPRKLING_WAIT_FOR_D1;
 240:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 			uP_SparklingAid_Data.cmd.Repeat_reg_dx =0;
 116                             		.loc 1 240 0
 117 009a CD 7A 08                		mov.B	8[r7], r10
 118                             	.LVL6:
 239:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 			uP_SparklingAid_Data.step=SPRKLING_WAIT_FOR_D1;
 119                             		.loc 1 239 0
 120 009d 3C 73 02                		mov.B	#2, 3[r7]
 121                             		.loc 1 240 0
 122 00a0 75 2A 80                		and	#0xffffff80, r10
 123 00a3 38 69 01                		bra	.L61
 124                             	.LVL7:
 125                             	.L16:
 241:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 			
 242:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 
 243:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 		break; 
 244:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 		
 245:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****         default:
 246:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****           uP_SparklingAid_Data.step=SPRKLING_ERROR;
 126                             		.loc 1 246 0
 127 00a6 3C 73 09                		mov.B	#9, 3[r7]
 128 00a9 38 67 01                		bra	.L59
 129                             	.LVL8:
 130                             	.L5:
 247:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       }
 248:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 		  
 249:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       break;
 250:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****     
 251:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****     case SPRKLING_T1:
 252:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       if(GIValid&GI_TURB_SENSOR_MSK)
 131                             		.loc 1 252 0
 132 00ac FB 72 00 00 00 00       		mov.L	#_GIValid, r7
 133 00b2 DC 77                   		mov.W	[r7], r7
 134 00b4 76 27 00 02             		and	#0x200, r7
 135 00b8 5F 77                   		movu.W	r7, r7
 136 00ba 61 07                   		cmp	#0, r7
 137 00bc 21 05                   		bne	.L22
 138 00be 38 52 01                		bra	.L59
 139                             	.L22:
 140                             	.LBB5:
 253:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       {                      
 254:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****         uint8_t id=TurbidityReads.id;
 141                             		.loc 1 254 0
 142 00c1 FB A2 00 00 00 00       		mov.L	#_TurbidityReads, r10
 143 00c7 CD AE 08                		mov.B	8[r10], r14
 144                             	.LVL9:
 255:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****         
 256:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****         /* attesa della nuova lettura */
 257:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****         if(uP_SparklingAid_Data.IdRead!=id)
 145                             		.loc 1 257 0
 146 00ca FB 72 00 00 00 00       		mov.L	#_uP_SparklingAid_Data, r7
 147 00d0 B0 F3                   		movu.B	2[r7], r3
 148 00d2 5B E4                   		movu.B	r14, r4
 149 00d4 47 43                   		cmp	r4, r3
 150 00d6 3A 3A 01                		beq	.L59
 258:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****         {
 259:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****           /* nuova lettura disponibile */
 260:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****           uP_SparklingAid_Data.IdRead=id;
 261:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****           
 262:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****           /* leggi valore torbidit� */
 263:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****           uP_SparklingAid_Data.turbidity1=TurbidityReads.perc;
 151                             		.loc 1 263 0
 152 00d9 CD AA 09                		mov.B	9[r10], r10
 260:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****           uP_SparklingAid_Data.IdRead=id;
 153                             		.loc 1 260 0
 154 00dc C7 7E 02                		mov.B	r14, 2[r7]
 155                             		.loc 1 263 0
 156 00df C3 7A                   		mov.B	r10, [r7]
 264:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****           uP_SparklingAid_Data.step=SPRKLING_WAIT_FOR_D1;
 157                             		.loc 1 264 0
 158 00e1 3C 73 02                		mov.B	#2, 3[r7]
 265:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****           
 266:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****           /*SetCounterVal(&uP_SparklingAid_Data.timer,SPRKLING_DELAY_T1_D1);*/
 267:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****           SWTC_SetMValue((SWTC_CountersType)MP_SPARKLINGAID_M_COUNTER,SPRKLING_DELAY_T1_D1);
 159                             		.loc 1 267 0
 160 00e4 FB 72 00 00 00 00       		mov.L	#_uPSparklingAid_setting_data, r7
 161 00ea EC 77                   		mov.L	[r7], r7
 162 00ec B1 72                   		movu.B	4[r7], r2
 163                             	.LVL10:
 164 00ee 38 9E 00                		bra	.L65
 165                             	.LVL11:
 166                             	.L6:
 167                             	.LBE5:
 268:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 		  
 269:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** /*          HIO_trbReadDisable((uint8_t)TURBSENS_READ_up_SPA);*/ /*AE FIXME manca il modulo di piat
 270:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****         }
 271:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       }
 272:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       
 273:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       break;   
 274:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****     
 275:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****     case SPRKLING_WAIT_FOR_D1:
 276:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****     
 277:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       if(SWTC_IsExpired((SWTC_CountersType)MP_SPARKLINGAID_M_COUNTER))
 168                             		.loc 1 277 0
 169 00f1 75 41 16                		mov	#22, r1
 170                             	.LVL12:
 171 00f4 05 00 00 00             		bsr	_SWTC_IsExpired
 172                             	.LVL13:
 173 00f8 61 01                   		cmp	#0, r1
 174 00fa 3A 16 01                		beq	.L59
 278:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       {
 279:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****         uP_SparklingAid_Data.step=SPRKLING_D1;
 175                             		.loc 1 279 0
 176 00fd FB 72 00 00 00 00       		mov.L	#_uP_SparklingAid_Data, r7
 177 0103 3C 73 03                		mov.B	#3, 3[r7]
 178 0106 2E 7C                   		bra	.L64
 179                             	.LVL14:
 180                             	.L7:
 280:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****         /*SetCounterVal(&uP_SparklingAid_Data.timer,SPRKLING_TIME_D1);*/
 281:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 		SWTC_SetMValue((SWTC_CountersType)MP_SPARKLINGAID_M_COUNTER,SPRKLING_TIME_D1);
 282:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       }
 283:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       
 284:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       break;
 285:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       
 286:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****     case SPRKLING_D1:
 287:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       if(SWTC_IsExpired((SWTC_CountersType)MP_SPARKLINGAID_M_COUNTER))
 181                             		.loc 1 287 0
 182 0108 75 41 16                		mov	#22, r1
 183                             	.LVL15:
 184 010b 05 00 00 00             		bsr	_SWTC_IsExpired
 185                             	.LVL16:
 186 010f 61 01                   		cmp	#0, r1
 187 0111 3A C9 00                		beq	.L29
 288:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       {
 289:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 		uP_SparklingAid_Data.step=SPRKLING_WAIT_FOR_D2;				
 188                             		.loc 1 289 0
 189 0114 FB 72 00 00 00 00       		mov.L	#_uP_SparklingAid_Data, r7
 190 011a 3C 73 04                		mov.B	#4, 3[r7]
 290:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 		SWTC_SetMValue((SWTC_CountersType)MP_SPARKLINGAID_M_COUNTER,SPRKLING_DELAY_D1_D2);
 191                             		.loc 1 290 0
 192 011d FB 72 00 00 00 00       		mov.L	#_uPSparklingAid_setting_data, r7
 193 0123 EC 77                   		mov.L	[r7], r7
 194 0125 B0 7A                   		movu.B	1[r7], r2
 195 0127 2E 65                   		bra	.L65
 196                             	.LVL17:
 197                             	.L8:
 291:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       } 
 292:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       else
 293:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       {
 294:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****         /*turn on dispenser */
 295:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****         LoadsReq_New[Disp_Pos].b=LOAD_ON;        
 296:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       }
 297:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 
 298:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       break;
 299:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       
 300:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****     case SPRKLING_WAIT_FOR_D2:
 301:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 		if(SWTC_IsExpired((SWTC_CountersType)MP_SPARKLINGAID_M_COUNTER))
 198                             		.loc 1 301 0
 199 0129 75 41 16                		mov	#22, r1
 200                             	.LVL18:
 201 012c 05 00 00 00             		bsr	_SWTC_IsExpired
 202                             	.LVL19:
 203 0130 61 01                   		cmp	#0, r1
 204 0132 3A DE 00                		beq	.L59
 302:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 		{	
 303:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 			if ( ((highStatement & SPRKLING_OPTION)==SPRKLING_WITH_REGULATION_OPT)||
 205                             		.loc 1 303 0
 206 0135 75 2A 30                		and	#48, r10
 207                             	.LVL20:
 208 0138 5B AE                   		movu.B	r10, r14
 209 013a 75 5E 20                		cmp	#32, r14
 210 013d FB 72 00 00 00 00       		mov.L	#_uP_SparklingAid_Data, r7
 211 0143 20 07                   		beq	.L25
 212                             		.loc 1 303 0 is_stmt 0 discriminator 1
 213 0145 75 5E 30                		cmp	#48, r14
 214 0148 21 4D                   		bne	.L26
 215                             		.balign 2,3,3
 216                             	.L25:
 304:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 			((highStatement & SPRKLING_OPTION)==SPRKLING_WITH_REG_TURB_REG_OPT) )		
 305:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 			{
 306:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 				uP_SparklingAid_Data.cmd.Repeat_reg_dx++;
 217                             		.loc 1 306 0 is_stmt 1
 218 014a 59 7E 08                		movu.B	8[r7], r14
 219 014d 8A 73                   		mov.B	8[r7], r3
 220 014f 62 1E                   		add	#1, r14
 221 0151 75 2E 7F                		and	#0x7f, r14
 222 0154 75 23 80                		and	#0xffffff80, r3
 223 0157 57 E3                   		or	r14, r3
 224 0159 82 73                   		mov.B	r3, 8[r7]
 307:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 				if(uP_SparklingAid_Data.cmd.Repeat_reg_dx >= RinseAidFunctionValue)
 225                             		.loc 1 307 0
 226 015b FB 72 00 00 00 00       		mov.L	#_RinseAidFunctionValue, r7
 227 0161 44 7E                   		cmp	[r7].UB, r14
 306:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 				uP_SparklingAid_Data.cmd.Repeat_reg_dx++;
 228                             		.loc 1 306 0
 229 0163 FB 42 00 00 00 00       		mov.L	#_uP_SparklingAid_Data, r4
 230                             		.loc 1 307 0
 231 0169 29 15                   		blt	.L27
 308:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 				{ /* finite le ripetizioni indicate dalla regolazione */
 309:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 					if( (highStatement & SPRKLING_OPTION)==SPRKLING_WITH_REG_TURB_REG_OPT) 
 232                             		.loc 1 309 0
 233 016b 5B AA                   		movu.B	r10, r10
 234 016d 75 5A 30                		cmp	#48, r10
 235 0170 21 08                   		bne	.L28
 310:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 					{
 311:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 						uP_SparklingAid_Data.step=SPRKLING_WAIT_FOR_T2;
 236                             		.loc 1 311 0
 237 0172 3C 43 06                		mov.B	#6, 3[r4]
 238 0175 38 9B 00                		bra	.L59
 239                             	.L28:
 312:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 					
 313:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 					}else
 314:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 					{
 315:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 						uP_SparklingAid_Data.step=SPRKLING_END;
 240                             		.loc 1 315 0
 241 0178 3C 43 08                		mov.B	#8, 3[r4]
 242 017b 38 95 00                		bra	.L59
 243                             	.L27:
 316:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 					}	
 317:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 					
 318:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 				}else
 319:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 				{
 320:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 					uP_SparklingAid_Data.step=SPRKLING_D1;
 244                             		.loc 1 320 0
 245 017e 3C 43 03                		mov.B	#3, 3[r4]
 246 0181 03                      		.balign 2,3,5
 247                             	.L64:
 321:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 					SWTC_SetMValue((SWTC_CountersType)MP_SPARKLINGAID_M_COUNTER,SPRKLING_TIME_D1);     
 248                             		.loc 1 321 0
 249 0182 FB 72 00 00 00 00       		mov.L	#_uPSparklingAid_setting_data, r7
 250 0188 EC 77                   		mov.L	[r7], r7
 251 018a 58 72                   		movu.B	[r7], r2
 252                             		.balign 2,3,2
 253                             	.L65:
 254 018c 75 41 16                		mov	#22, r1
 255 018f 05 00 00 00             		bsr	_SWTC_SetMValue
 256                             	.LVL21:
 257 0193 2E 7D                   		bra	.L59
 258                             	.L26:
 322:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 				}
 323:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 			}else
 324:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 			{
 325:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 	        	uP_SparklingAid_Data.step=SPRKLING_D2;
 259                             		.loc 1 325 0
 260 0195 3C 73 05                		mov.B	#5, 3[r7]
 326:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 				SWTC_SetMValue((SWTC_CountersType)MP_SPARKLINGAID_M_COUNTER,SPRKLING_TIME_D2);
 261                             		.loc 1 326 0
 262 0198 FB 72 00 00 00 00       		mov.L	#_uPSparklingAid_setting_data, r7
 263 019e EC 77                   		mov.L	[r7], r7
 264 01a0 B0 F2                   		movu.B	2[r7], r2
 265 01a2 2E EA                   		bra	.L65
 266                             	.LVL22:
 267                             	.L9:
 327:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 			}	
 328:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 		
 329:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 		} 
 330:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 
 331:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       break;
 332:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****             
 333:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****     case SPRKLING_D2:
 334:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       if(SWTC_IsExpired((SWTC_CountersType)MP_SPARKLINGAID_M_COUNTER))
 268                             		.loc 1 334 0
 269 01a4 75 41 16                		mov	#22, r1
 270                             	.LVL23:
 271 01a7 05 00 00 00             		bsr	_SWTC_IsExpired
 272                             	.LVL24:
 273 01ab 61 01                   		cmp	#0, r1
 274 01ad 20 2D                   		beq	.L29
 335:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       {
 336:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****         
 337:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****         switch((highStatement & SPRKLING_OPTION))
 275                             		.loc 1 337 0
 276 01af 75 2A 30                		and	#48, r10
 277                             	.LVL25:
 278 01b2 FB 72 00 00 00 00       		mov.L	#_uP_SparklingAid_Data, r7
 279 01b8 20 09                   		beq	.L31
 280 01ba 75 5A 10                		cmp	#16, r10
 281 01bd 21 0E                   		bne	.L56
 282 01bf 2E 07                   		bra	.L32
 283                             	.L31:
 338:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****         {
 339:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****           case SPRKLING_NORMAL_OPT:
 340:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****             uP_SparklingAid_Data.step=SPRKLING_END;
 284                             		.loc 1 340 0
 285 01c1 3C 73 08                		mov.B	#8, 3[r7]
 341:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****             break;
 286                             		.loc 1 341 0
 287 01c4 2E 0A                   		bra	.L33
 288                             	.L32:
 342:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****           case SPRKLING_WITH_TURB_READ_OPT:
 343:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****             uP_SparklingAid_Data.step=SPRKLING_WAIT_FOR_T2;
 289                             		.loc 1 343 0
 290 01c6 3C 73 06                		mov.B	#6, 3[r7]
 344:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****             break;        
 291                             		.loc 1 344 0
 292 01c9 2E 05                   		bra	.L33
 293                             	.L56:
 345:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****           default:
 346:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****           uP_SparklingAid_Data.step=SPRKLING_ERROR;
 294                             		.loc 1 346 0
 295 01cb 3C 73 09                		mov.B	#9, 3[r7]
 296                             		.balign 2,3,5
 297                             	.L33:
 347:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****         }        
 348:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****         
 349:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****         /*SetCounterVal(&uP_SparklingAid_Data.timer,SPRKLING_DELAY_D2_T2);*/
 350:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 		SWTC_SetMValue((SWTC_CountersType)MP_SPARKLINGAID_M_COUNTER,SPRKLING_DELAY_D2_T2);
 298                             		.loc 1 350 0
 299 01ce FB 72 00 00 00 00       		mov.L	#_uPSparklingAid_setting_data, r7
 300 01d4 EC 77                   		mov.L	[r7], r7
 301 01d6 B1 7A                   		movu.B	5[r7], r2
 302 01d8 2E B4                   		bra	.L65
 303                             	.LVL26:
 304                             	.L29:
 351:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       }
 352:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       else
 353:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       {
 354:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****         /*turn on dispenser */
 355:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****         LoadsReq_New[Disp_Pos].b=LOAD_ON;
 305                             		.loc 1 355 0
 306 01da FB 72 00 00 00 00       		mov.L	#_Disp_Pos, r7
 307 01e0 58 77                   		movu.B	[r7], r7
 308 01e2 FB A2 00 00 00 00       		mov.L	#_LoadsReq_New, r10
 309                             	.LVL27:
 310 01e8 66 1B                   		mov	#1, r11
 311 01ea FE 07 AB                		mov.B	r11, [r7,r10]
 312 01ed 2E 23                   		bra	.L59
 313                             	.LVL28:
 314                             	.L10:
 356:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       }
 357:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       break;
 358:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       
 359:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****     case SPRKLING_WAIT_FOR_T2:
 360:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** #if (SW_TIMER_MODULE_PLT2 == 0)
 361:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       if(GetCounterVal(&uP_SparklingAid_Data.timer)==0)
 315                             		.loc 1 361 0
 316 01ef FB 12 00 00 00 00       		mov.L	#_uP_SparklingAid_Data+6, r1
 317                             	.LVL29:
 318 01f5 05 00 00 00             		bsr	_GetCounterVal
 319                             	.LVL30:
 320 01f9 61 01                   		cmp	#0, r1
 321 01fb 21 15                   		bne	.L59
 362:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** #else	/*#if (SW_TIMER_MODULE_PLT2 == 1)*/
 363:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 	  if(SWTC_IsExpired((SWTC_CountersType)MP_SPARKLINGAID_M_COUNTER))       
 364:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** #endif	/*#if (SW_TIMER_MODULE_PLT2 == 0)*/	
 365:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       {
 366:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****         uP_SparklingAid_Data.step=SPRKLING_T2;        
 322                             		.loc 1 366 0
 323 01fd FB 72 00 00 00 00       		mov.L	#_uP_SparklingAid_Data, r7
 324 0203 3C 73 07                		mov.B	#7, 3[r7]
 325                             	.LVL31:
 326                             		.balign 2,3,5
 327                             	.L60:
 367:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****         uP_SparklingAid_Data.cmd.RepeatTurbRead =TRUE;
 328                             		.loc 1 367 0
 329 0206 CD 7A 08                		mov.B	8[r7], r10
 330 0209 78 7A                   		bset	#7, r10
 331 020b 03                      		.balign 2,3,5
 332                             	.L61:
 333 020c C7 7A 08                		mov.B	r10, 8[r7]
 334 020f 03                      		.balign 2,3,1
 335                             	.L59:
 191:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****   uint8_t nRet=S_FALSE;
 336                             		.loc 1 191 0
 337 0210 66 17                   		mov	#1, r7
 338 0212 38 88 00                		bra	.L12
 339                             	.LVL32:
 340                             	.L11:
 368:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       }    
 369:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 
 370:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       break;
 371:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****     case SPRKLING_T2:
 372:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       if((GIValid&GI_TURB_SENSOR_MSK) && (uP_SparklingAid_Data.IdRead!=TurbidityReads.id))
 341                             		.loc 1 372 0
 342 0215 FB 72 00 00 00 00       		mov.L	#_GIValid, r7
 343 021b DC 77                   		mov.W	[r7], r7
 344 021d 76 27 00 02             		and	#0x200, r7
 345 0221 5F 77                   		movu.W	r7, r7
 346 0223 61 07                   		cmp	#0, r7
 347 0225 20 EB                   		beq	.L59
 348                             		.loc 1 372 0 is_stmt 0 discriminator 1
 349 0227 FB 72 00 00 00 00       		mov.L	#_uP_SparklingAid_Data, r7
 350 022d B0 F4                   		movu.B	2[r7], r4
 351 022f FB A2 00 00 00 00       		mov.L	#_TurbidityReads, r10
 352 0235 45 A4 08                		cmp	8[r10].UB, r4
 353 0238 20 D8                   		beq	.L59
 373:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       {      
 374:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****         /* leggi valore torbidit� */
 375:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****         uP_SparklingAid_Data.turbidity2=TurbidityReads.perc;
 354                             		.loc 1 375 0 is_stmt 1
 355 023a CD AE 09                		mov.B	9[r10], r14
 376:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****         
 377:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****         if((!HWC_Flags.bit.sparklaidreed) && 
 356                             		.loc 1 377 0
 357 023d FB A2 00 00 00 00       		mov.L	#_HWC_Flags, r10
 375:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****         uP_SparklingAid_Data.turbidity2=TurbidityReads.perc;
 358                             		.loc 1 375 0
 359 0243 C7 7E 01                		mov.B	r14, 1[r7]
 360                             		.loc 1 377 0
 361 0246 DC AA                   		mov.W	[r10], r10
 362 0248 76 2A 00 20             		and	#0x2000, r10
 363 024c 5F AA                   		movu.W	r10, r10
 364 024e 61 0A                   		cmp	#0, r10
 365 0250 21 29                   		bne	.L34
 378:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****             ((uP_SparklingAid_Data.turbidity2-uP_SparklingAid_Data.turbidity1)<=SPRKLING_TURB_DELTA
 366                             		.loc 1 378 0 discriminator 1
 367 0252 58 7A                   		movu.B	[r7], r10
 368 0254 FB 72 00 00 00 00       		mov.L	#_uPSparklingAid_setting_data, r7
 369 025a EC 77                   		mov.L	[r7], r7
 370 025c 5B EE                   		movu.B	r14, r14
 371 025e B0 FF                   		movu.B	3[r7], r7
 372 0260 43 AE                   		sub	r10, r14
 377:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****         if((!HWC_Flags.bit.sparklaidreed) && 
 373                             		.loc 1 377 0 discriminator 1
 374 0262 47 7E                   		cmp	r7, r14
 375 0264 2A 15                   		bgt	.L34
 379:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****             ((uP_SparklingAid_Data.turbidity1+SPRKLING_TURB_DELTA)<100)
 376                             		.loc 1 379 0
 377 0266 4B A7                   		add	r10, r7
 378:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****             ((uP_SparklingAid_Data.turbidity2-uP_SparklingAid_Data.turbidity1)<=SPRKLING_TURB_DELTA
 378                             		.loc 1 378 0
 379 0268 75 57 63                		cmp	#0x63, r7
 380 026b 2A 0E                   		bgt	.L34
 380:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****             ) 
 381:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****         {                
 382:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****           /* notify sparkling KO!! */              
 383:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****           SETBIT(Flags_2,FLAGS2_TURB_NO_SPARKL_BIT);              
 381                             		.loc 1 383 0
 382 026d FB 72 00 00 00 00       		mov.L	#_Flags_2, r7
 383 0273 CC 7A                   		mov.B	[r7], r10
 384 0275 65 2A                   		or	#2, r10
 385 0277 2E 0D                   		bra	.L58
 386                             	.L34:
 384:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****         }                        
 385:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****         else 
 386:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****         {            
 387:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****           CLRBIT(Flags_2,FLAGS2_TURB_NO_SPARKL_BIT);
 387                             		.loc 1 387 0
 388 0279 FB 72 00 00 00 00       		mov.L	#_Flags_2, r7
 389 027f CC 7A                   		mov.B	[r7], r10
 390 0281 75 2A FD                		and	#-3, r10
 391                             		.balign 2,3,1
 392                             	.L58:
 393 0284 C3 7A                   		mov.B	r10, [r7]
 388:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****         }
 389:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****         
 390:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****         uP_SparklingAid_Data.step=SPRKLING_END;
 394                             		.loc 1 390 0
 395 0286 FB 72 00 00 00 00       		mov.L	#_uP_SparklingAid_Data, r7
 396 028c 3C 73 08                		mov.B	#8, 3[r7]
 397 028f 2E 81                   		bra	.L59
 398                             	.L3:
 391:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 				
 392:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** /*		HIO_trbReadDisable((uint8_t)TURBSENS_READ_up_SPA);*/ /*AE FIXME manca il modulo di piattforma*/
 393:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       }
 394:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       
 395:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       
 396:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       break;
 397:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 
 398:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****     case SPRKLING_END:                                           
 399:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****     case SPRKLING_ERROR:
 400:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       nRet=S_OK;     
 401:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       break;
 402:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****     default:
 403:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       uP_SparklingAid_Data.step=SPRKLING_INIT;
 399                             		.loc 1 403 0
 400 0291 3C 73 00                		mov.B	#0, 3[r7]
 401 0294 38 7C FF                		bra	.L59
 402                             	.L36:
 403                             	.LBE4:
 400:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       nRet=S_OK;     
 404                             		.loc 1 400 0
 405 0297 66 07                   		mov	#0, r7
 406                             	.LVL33:
 407 0299 03                      		.balign 2,3,2
 408                             	.L12:
 404:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****       nRet=S_FALSE;
 405:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****     
 406:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****   }    
 407:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****   
 408:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****   /*EnableCounter(&uP_SparklingAid_Data.timer);*/
 409:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****   SWTC_Run((SWTC_CountersType)MP_SPARKLINGAID_M_COUNTER);
 409                             		.loc 1 409 0
 410 029a 75 41 16                		mov	#22, r1
 411 029d 05 00 00 00             		bsr	_SWTC_Run
 412                             	.LVL34:
 413 02a1 03                      		.balign 2,3,1
 414                             	.L15:
 410:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****   
 411:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****   return nRet;
 412:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** }
 415                             		.loc 1 412 0
 416 02a2 5B 71                   		movu.B	r7, r1
 417 02a4 3F 7B 05                		rtsd	#20, r7-r11
 418                             	.LFE2:
 420 02a7 03                      		.section	.text.SPA_uP_SparklingAid_Exe,"ax",@progbits
 421                             		.global	_SPA_uP_SparklingAid_Exe
 423                             	_SPA_uP_SparklingAid_Exe:
 424                             	.LFB0:
  97:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** {
 425                             		.loc 1 97 0
 426                             	.LVL35:
 102:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****   if ( (FALSE == Interpreter_Data[0].stepInitialized) )
 427                             		.loc 1 102 0
 428 0000 FB E2 00 00 00 00       		mov.L	#_Interpreter_Data, r14
 429 0006 CD EE 04                		mov.B	4[r14], r14
 430 0009 64 2E                   		and	#2, r14
 431 000b 21 0D                   		bne	.L67
 432                             	.LBB6:
 433                             	.LBB7:
 154:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****   uP_SparklingAid_Data.step = SPRKLING_INIT;
 434                             		.loc 1 154 0
 435 000d FB 42 00 00 00 00       		mov.L	#_uP_SparklingAid_Data, r4
 436 0013 C7 4E 03                		mov.B	r14, 3[r4]
 437                             	.LBE7:
 438                             	.LBE6:
 106:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 		return nRet;
 439                             		.loc 1 106 0
 440 0016 2E 34                   		bra	.L68
 441                             	.L67:
 114:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****     if (uPDoorStatus == UP_DOOR_WAIT)
 442                             		.loc 1 114 0
 443 0018 FB E2 00 00 00 00       		mov.L	#_uPDoorStatus, r14
 444 001e 58 EE                   		movu.B	[r14], r14
 445 0020 61 0E                   		cmp	#0, r14
 446 0022 21 24                   		bne	.L69
 118:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 	  SWTC_Stop((SWTC_CountersType)MP_SPARKLINGAID_M_COUNTER);
 447                             		.loc 1 118 0
 448 0024 75 41 16                		mov	#22, r1
 449                             	.LVL36:
 450 0027 05 00 00 00             		bsr	_SWTC_Stop
 451                             	.LVL37:
 120:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 		  if( (uP_SparklingAid_Data. step== SPRKLING_T1 ) || 
 452                             		.loc 1 120 0
 453 002b FB E2 00 00 00 00       		mov.L	#_uP_SparklingAid_Data, r14
 454 0031 59 E4 03                		movu.B	3[r14], r4
 455 0034 61 14                   		cmp	#1, r4
 456 0036 20 06                   		beq	.L70
 120:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 		  if( (uP_SparklingAid_Data. step== SPRKLING_T1 ) || 
 457                             		.loc 1 120 0 is_stmt 0 discriminator 1
 458 0038 61 74                   		cmp	#7, r4
 459 003a 21 10                   		bne	.L68
 460                             		.balign 2,3,5
 461                             	.L70:
 123:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c ****         uP_SparklingAid_Data.cmd.RepeatTurbRead = TRUE;
 462                             		.loc 1 123 0 is_stmt 1
 463 003c CD E4 08                		mov.B	8[r14], r4
 464 003f 78 74                   		bset	#7, r4
 465 0041 C7 E4 08                		mov.B	r4, 8[r14]
 466 0044 2E 06                   		bra	.L68
 467                             	.LVL38:
 468                             	.L69:
 132:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** 	nRet= SPA_uP_SparklingAid_StepMgmt(highStatement, lowStatement);
 469                             		.loc 1 132 0
 470 0046 04 00 00 00             		bra	_SPA_uP_SparklingAid_StepMgmt
 471                             	.LVL39:
 472                             	.L68:
 135:C:/Workspace/FW_Platform2_5/trunk/Inertia/Modules\SparklingAid.c **** }
 473                             		.loc 1 135 0
 474 004a 66 11                   		mov.L	#1, r1
 475 004c 02                      		rts
 476                             	.LFE0:
 478                             		.global	_spatable
 479 004d 03                      		.section	.rodata.spatable,"a",@progbits
 482                             	_spatable:
 483 0000 02                      		.byte	2
 484 0001 03                      		.byte	3
 485 0002 04                      		.byte	4
 486 0003 14                      		.byte	20
 487 0004 06                      		.byte	6
 488 0005 07                      		.byte	7
 545                             	.Letext0:
 546                             		.file 2 "C:\\Workspace\\FW_Platform2_5\\trunk\\HAL\\HAL_General/StandardTypes.h"
 547                             		.file 3 "C:\\Workspace\\FW_Platform2_5\\trunk\\ProductModules\\PM_SwTimersCounters/SwTimersCounter
 548                             		.file 4 "C:\\Workspace\\FW_Platform2_5\\trunk\\ProductModules\\PM_Library/LIB_Utilities.h"
 549                             		.file 5 "C:\\Workspace\\FW_Platform2_5\\trunk\\CFG_DishWasher\\CFG_Inertia/ProductSafety_cfg.h"
 550                             		.file 6 "C:\\Workspace\\FW_Platform2_5\\trunk\\Inertia\\General/CstmDefines.h"
 551                             		.file 7 "C:\\Workspace\\FW_Platform2_5\\trunk\\Application_Platform/APP_Types.h"
 552                             		.file 8 "C:\\Workspace\\FW_Platform2_5\\trunk\\Inertia\\General/CstmTypes.h"
 553                             		.file 9 "C:\\Workspace\\FW_Platform2_5\\trunk\\PlatformLibrary\\LIB_IOManager/OutputManagerExp.h"
 554                             		.file 10 "C:\\Workspace\\FW_Platform2_5\\trunk\\Inertia\\General/CstmGlobal.h"
 555                             		.file 11 "C:\\Workspace\\FW_Platform2_5\\trunk\\Inertia\\Modules/SparklingAid.h"
 556                             		.file 12 "C:\\Workspace\\FW_Platform2_5\\trunk\\Application_Platform/APP_Global.h"
