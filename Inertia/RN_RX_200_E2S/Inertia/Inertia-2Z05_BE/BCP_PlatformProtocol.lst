   1                             		.file	"BCP_PlatformProtocol.c"
   2                             		.section P,"ax"
   3                             	.Ltext0:
   4                             		.section	.text.PP_SlaveFragmentBuilder,"ax",@progbits
   6                             	_PP_SlaveFragmentBuilder:
   7                             	.LFB5:
   8                             		.file 1 "C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM/BCP_PlatformProtocol.c"
   1:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /*
   2:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** Copyright (c) 2004-2005, Indesit Company, I.D.D..
   3:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** Tutti i diritti sono riservati. All rights reserved.
   4:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** */
   5:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /**
   6:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
   7:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   \defgroup	PP Platform Protocol
   8:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   \ingroup PM_BusCOMM
   9:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
  10:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   \par		Description
  11:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   \n    Platform Protocol implements protocol related fetaures:
  12:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   \li   encode and decode of data,
  13:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   \li   communication driver management.
  14:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
  15:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   \n    E' organizzato in due sezioni Master e Slave.
  16:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** */
  17:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
  18:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /**
  19:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   \defgroup PPM Platform Protocol Master
  20:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   \ingroup PP
  21:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** Platform Protocol master
  22:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   \par    Description
  23:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   \n      Descrizione del Platform Protocol master
  24:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** */
  25:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
  26:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /**
  27:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \defgroup	PPS Platform Protocol Slave
  28:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \ingroup PP
  29:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** Platform Protocol slave
  30:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \par		Description
  31:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n      Descrizione del Platform Protocol Slave
  32:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** */
  33:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
  34:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
  35:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
  36:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
  37:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
  38:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
  39:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /**
  40:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n
  41:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \par		Description
  42:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n	  Platform Protocol Implementation
  43:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n    driver management for master and slave communication
  44:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n
  45:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \file		BCP_PlatformProtocol.c
  46:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \ingroup	PM_BusCOMM
  47:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \date		20/04/2009
  48:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \version	01.00.00
  49:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \author		Roberto Fioravanti
  50:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n
  51:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n
  52:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \par		History
  53:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n
  54:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n 		00.00.59
  55:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n		08/09/2010
  56:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n		Roberto Fioravanti
  57:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n		changes
  58:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n    	- Prototype of PP_EncodeDataGPAnsParam changed (2nd arg to IO_BufferSizeType)
  59:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n		- PP_EncodeDataGPAnsParam removed u8Len check
  60:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n 		- bug fix: PP_EncodeHdrAnsBridgeParam: avoid overwriting type
  61:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n		- bug fix: PP_BridgeToTyp16Conv manages Basic types
  62:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n
  63:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n    00.00.41
  64:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n		20/04/2010
  65:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n		Roberto Fioravanti
  66:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n		changes
  67:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n 		- INDESIT_BRIDGE_ZIGBEE becames CP_GENERAL_PURPOSE
  68:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n		- removed crc_calculate
  69:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n
  70:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n    00.00.39
  71:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n		15/04/2010
  72:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n		Roberto Fioravanti
  73:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n		changes
  74:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n 		- bug fix: BCP_MasterResponseStateMachine updates esit when answer data is available
  75:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n
  76:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n    00.00.23
  77:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n		23/10/2009
  78:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n		Roberto Fioravanti
  79:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n		changes
  80:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n 		- deprecated removed
  81:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n		- fragmentation
  82:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n
  83:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n    00.00.14
  84:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n		23/10/2009
  85:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n		Roberto Fioravanti
  86:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n		changes
  87:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n 		- data format: pDataRes in PP_MasterProtocolTableType contains data size in bytes (IO_BufferSi
  88:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n		- BCP_MasterResponseStateMachine: updated with the define PP_OUT_BUFF_RESERVED_SZ and PP_ZB_OUT
  89:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n
  90:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n 		00.00.12
  91:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n		08/10/2009
  92:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n		Roberto Fioravanti
  93:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n		changes
  94:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n 		- PP_SlaveNotification added: IO_N_COMPLETED notifications
  95:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n		- updating .esit field in PP_Ntwk for bridge zigbee packets without answer
  96:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n		- ack error couter updating (for bridge zigbee packets witout answer)
  97:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n    - PP_SlaveResponseBuilder returns void
  98:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n
  99:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n 		00.00.10
 100:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n		18/09/2009
 101:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n		Roberto Fioravanti
 102:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n		changes
 103:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n 		- BCP_MasterResponseStateMachine: zigbee packets added
 104:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n
 105:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n 		00.00.09
 106:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n		15/09/2009
 107:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n		Roberto Fioravanti
 108:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n		changes
 109:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n		- Optimizations: BCP_MasterResponseStateMachine
 110:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n
 111:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n 		00.00.08
 112:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n		10/09/2009
 113:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n		Roberto Fioravanti
 114:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n		changes
 115:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n      - bug fix: PP_BS_TYPE_FROM_ZB_PARAM(x) PP_BS_PDATA_FROM_ZB_PARAM(x)
 116:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n
 117:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n 		00.00.01
 118:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n		05/05/2009
 119:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n		Roberto Fioravanti
 120:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n		changes
 121:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n 		- creazione
 122:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n		- 'builder', 'decoder' master and slave,  driver interface for transmission and reception.
 123:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n
 124:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n
 125:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \n etc.
 126:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** */
 127:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 128:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /* ******** */
 129:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /* Includes */
 130:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /* ******** */
 131:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 132:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #include <string.h>
 133:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 134:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #include "BCP_BusCommMng.h"
 135:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 136:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #include "LIB_Utilities.h"
 137:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 138:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #ifdef BUS_COM_PLT_I2C_SUPPORT
 139:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #include "OCI2C_drv.h"
 140:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #endif /* BUS_COM_PLT_I2C_SUPPORT */
 141:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 142:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #ifdef CONFIG_PL_DRV_OCCRC
 143:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #include "OCCRC_drv.h"
 144:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #define BCP_CRC_calculate OCCRC_Calculate
 145:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #else
 146:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #include "SWCRC_drv.h"
 147:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #define BCP_CRC_calculate SWCRC_Calculate
 148:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #endif
 149:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /* ****************** */
 150:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /* Defines and Macros */
 151:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /* ****************** */
 152:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 153:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /**
 154:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   \ingroup PPS_SLAVE_PRIV
 155:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   Definizioni per state machine PP slave (richiesta).
 156:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** */
 157:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 158:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #if defined(CP_TYP8_16_SLAVE_PP_STATE_MACHINE)
 159:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /* Parser */
 160:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** enum{
 161:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   /*Basic frame Rules*/
 162:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   PP_READ_BS_HDR_RULE_LBL = 0,
 163:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   PP_NO_MATCH_STX_RULE_LBL,
 164:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   PP_NO_MATCH_EE_RULE_LBL,
 165:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 166:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   /* Extended frame */
 167:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   PP_READ_EE_UNTIL_LEN_RULE_LBL,
 168:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   PP_MODLEN_BY_TYP01_RULE_LBL,
 169:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   PP_MODLEN_BY_CRC_RULE_LBL,
 170:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   PP_TEST_HDR_LEN,
 171:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   PP_SETLEN_TYP0_RULE_LBL,
 172:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   PP_SETLEN_TYP01_RULE_LBL,
 173:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   PP_EE_READ_ALL_RULE_LBL,
 174:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   PP_EE_CRC_TEST_RULE_LBL,
 175:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 176:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 177:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   /*Common Rules */
 178:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   PP_CHK_VER_RULE_LBL,
 179:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   PP_CRC_VER_RULE_LBL,
 180:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   PP_READ_BS_REM_RULE_LBL,
 181:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 182:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   PP_INVALID_RULE_LBL,
 183:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   PP_SLAVE_RX_OK,
 184:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 185:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   PP_RULE_NUM
 186:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** };
 187:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #else
 188:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 189:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** enum ePP_SLAVE_STATE{
 190:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** PP_SLAVE_RX_HDR_START,          /**<  \hideinitializer starting receiving header */
 191:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** PP_SLAVE_RX_ALL_START,          /**<  \hideinitializer Receive all frame */
 192:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** PP_SLAVE_RX_ALL_COMPLETED,      /**<  \hideinitializer all frame received */
 193:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** PP_SLAVE_RX_OK,                 /**<  \hideinitializer frame ok */
 194:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** PP_SLAVE_RX_ERR                 /**<  \hideinitializer frame ko (chk o crc error),
 195:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                                       \note the cause of error is not available */
 196:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** };
 197:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #endif
 198:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 199:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 200:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /** master Platform Protocol  state machine (Answer) */
 201:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** enum ePP_MASTER_RESPONSE_STATE{
 202:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** PP_RESPONSE_GET_ACK,
 203:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** PP_RESPONSE_GET_HDR,
 204:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** PP_RESPONSE_COMPLETION,
 205:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** PP_RESPONSE_PROCESS,
 206:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** PP_END
 207:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** };
 208:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 209:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** enum eBOOT_MASTER_RESPONSE_STATE{
 210:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** BOOT_RESPONSE_GET_ACK,
 211:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** BOOT_RESPONSE_GET_LEN,
 212:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** BOOT_GET_DATA,
 213:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** BOOT_END_DATA,
 214:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** BOOT_END_ACK,
 215:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /*PP_RESPONSE_GET_HDR,
 216:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** PP_RESPONSE_COMPLETION,
 217:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** PP_RESPONSE_PROCESS,*/
 218:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** BOOT_END
 219:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** };
 220:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 221:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /**
 222:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \todo description
 223:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** General purpose request macros
 224:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** */
 225:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /*
 226:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #define PP_HDR_FROM_GP_BRIDGE_MSK           (PP_HDR_CRC)
 227:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #define PP_HDR_TO_GP_BRIDGE_MSK             (PP_HDR_TYP_16)
 228:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 229:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #define PP_CMD_ID_FROM_GP_PARAM(x)          (((CP_GP_ParamType*)(x))->ZBParam.Hdr.HdrByte.CommandID
 230:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #define I2C_ADDRESS_FROM_GP_PARAM(x)        (((CP_GP_ParamType*)(x))->ZBParam.PL.PlByte.I2cAddress)
 231:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #define PP_HDR_FROM_GP_PARAM(x)             ((((CP_GP_ParamType*)(x))->ZBParam.PL.PLByte[1]) & PP_H
 232:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 233:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 234:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #define PP_TYPE_FROM_GP_PARAM(x)            (((CP_GP_ParamType*)(x))->ZBParam.PL.PLByte[2])
 235:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #define PP_LEN_FROM_GP_PARAM(x)             (((CP_GP_ParamType*)(x))->ZBParam.PL.PLByte[3])
 236:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #define PP_PDATA_FROM_GP_PARAM(x)           ((uint8_t*)&(((CP_GP_ParamType*)(x))->ZBParam.PL.PLByte
 237:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 238:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #define PP_BS_TYPE_FROM_GP_PARAM(x)         (((CP_GP_ParamType*)(x))->ZBParam.PL.PLByte[4])
 239:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #define PP_BS_PDATA_FROM_GP_PARAM(x)        (1+(uint8_t*)&(((CP_GP_ParamType*)(x))->ZBParam.PL.PLBy
 240:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 241:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 242:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #define PP_HDR_TO_GP_PARAM(x, val)          (*(((CP_GP_ParamType*)(x))->ZBParam.PL.PLByte[0])= val 
 243:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** */
 244:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 245:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 246:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 247:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 248:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /* *************************** */
 249:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /* Typedef, Structs and Unions */
 250:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /* *************************** */
 251:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 252:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /**
 253:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****  * Platform Protocol Master class.
 254:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****  */
 255:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #if BCP_MASTER_SUPPORT == TRUE
 256:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** typedef struct
 257:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
 258:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   uint8_t                   state;						/**< Stato della macchina a stati */
 259:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   IO_ChannelType            indexRequest;     /**< indice PP_MasterRequestTable */
 260:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   IO_ChannelType            chBoard;          /**< indice board */
 261:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   BCP_PacketSizeType        bcount;           /**< numero di byte */
 262:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   BCP_PacketSizeType        lastRequestLen;   /**< numero di byte relativi all'ultima richiesta */
 263:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   IO_ErrorType              error;
 264:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** }BCP_MasterPlatformProtocolType;
 265:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #endif
 266:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 267:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 268:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /**
 269:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	\ingroup PPS
 270:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****  	Platform Protocol Slave class.
 271:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** */
 272:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #if BCP_SLAVE_SUPPORT == TRUE
 273:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** typedef struct
 274:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
 275:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	IO_MemPtrType				pdata;				/* builder: pnt to data */
 276:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	BCP_PacketSizeType        	dataCount;        	/* global current request bytes number */
 277:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	BCP_PacketSizeType        	dataCountLast;    	/* partial current request bytes number*/
 278:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	BCP_PacketSizeType        	answerCount;      	/* answer bytes number */
 279:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	uint16_t 				  	crc;				/* crc */
 280:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	IO_ValueType              	state;            	/* rx state machine*/
 281:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	uint8_t						option;				/* options */
 282:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** }PP_SlavePlatformProtocolClassType;
 283:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #endif
 284:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 285:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** typedef struct BCP_Builder_tag
 286:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
 287:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   IO_BufferType            data;
 288:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   IO_BufferSizeType        datalen;
 289:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   BCP_PacketCodeType        code;
 290:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   BCP_PacketOptionType      option;   /* chk/crc */
 291:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** }BCP_BuilderType;
 292:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 293:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 294:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 295:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 296:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /* ********* */
 297:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /* Variables */
 298:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /* ********* */
 299:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 300:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 301:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 302:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 303:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /* Exported */
 304:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 305:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /* Static */
 306:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 307:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /*Parser*/
 308:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #if defined(CP_TYP8_16_SLAVE_PP_STATE_MACHINE)
 309:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** const PP_ParserType PP_Parser[PP_RULE_NUM]= {
 310:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   /* Basic frame */
 311:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   {PP_READ_CMD, 3, 0, 0 },
 312:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   {PP_NO_MATCH_CMD, PP_STX_INDEX, PP_STX, PP_INVALID_RULE_LBL},
 313:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   {PP_NO_MATCH_CMD, PP_FTYP_INDEX, PP_FTYP_EE, PP_READ_BS_REM_RULE_LBL},
 314:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 315:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 316:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   /* Extended frame */
 317:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   {PP_READ_CMD, 3, 0, 0},
 318:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   {PP_MODLEN_CMD, PP_HDR_INDEX, 2, 1},
 319:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   {PP_MODLEN_CMD, PP_HDR_INDEX, 1, 1},
 320:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 321:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   {PP_AND_CMD,  PP_HDR_INDEX, 2, PP_SETLEN_TYP01_RULE_LBL},
 322:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   {PP_SETLEN_CMD, PP_LEN_INDEX, 0, PP_EE_READ_ALL_RULE_LBL},
 323:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   {PP_SETLEN_CMD, PP_GLEN_INDEX, 0, PP_EE_READ_ALL_RULE_LBL},
 324:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 325:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   {PP_READ_ALL_CMD, 0, IO_CLOSE, 0},
 326:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 327:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   {PP_AND_CMD,  PP_HDR_INDEX, 1, PP_CRC_VER_RULE_LBL},
 328:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   /* common Rules*/
 329:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   {PP_CHK_CHECK_CMD, 0, 0, PP_SLAVE_RX_OK},
 330:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   {PP_CRC_CHECK_CMD, 0, 0, PP_SLAVE_RX_OK},
 331:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   {PP_READ_CMD, 3, IO_CLOSE, PP_CHK_VER_RULE_LBL},
 332:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 333:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   {PP_INVALID_CMD, 0, 0 ,0},
 334:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   {PP_RX_OK_CMD, 0, 0 ,0}
 335:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** };
 336:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #endif
 337:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 338:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 339:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /**
 340:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   \addtogroup PPM
 341:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   @{
 342:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** */
 343:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #if BCP_MASTER_SUPPORT == TRUE
 344:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** static BCP_MasterPlatformProtocolType MasterPlatformProtocol[BCP_CH_NUM];
 345:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #endif
 346:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /* @} */
 347:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 348:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 349:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 350:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /* Stato Platform Protocol Slave */
 351:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #if (BCP_SLAVE_SUPPORT == TRUE)
 352:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** static PP_SlavePlatformProtocolClassType   PP_SlavePlatformProtocol[BCP_CH_NUM];
 353:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** BCP_PacketSizeType PP_len;
 354:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #endif /* (BCP_SLAVE_SUPPORT == TRUE) */
 355:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 356:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 357:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 358:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #if BCP_MASTER_SUPPORT == TRUE
 359:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** static PP_BoardStateType PP_Ntwk[BOARD_NUM];
 360:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #endif
 361:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 362:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /* ******************* */
 363:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /* Functions Prototype */
 364:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /* ******************* */
 365:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 366:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** static void crc_append (IO_BufferSizeType  len, IO_BufferType pdata);
 367:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** static void chk_append (IO_BufferSizeType  len, IO_BufferType pdata);
 368:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 369:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 370:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #if (BCP_MASTER_SUPPORT == TRUE)
 371:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** static IO_ErrorType BCP_MasterNotify (IO_NotificationType notifVal,IO_ChannelType channel, IO_Error
 372:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** static IO_BufferSizeType  BCP_MasterBuilder (IO_BufferType txBuffer, PP_MasterProtocolTableType inf
 373:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** static void BCP_MasterResponseStateMachine(IO_ChannelType channel, IO_ErrorType error);
 374:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** static void BCP_BootLoaderResponseStateMachine(IO_ChannelType channel);
 375:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** //static IO_ErrorType PP_CommDriverPrepareRequest(IO_ChannelType idBoard, IO_BufferType txBuffer, P
 376:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #endif /* (BCP_MASTER_SUPPORT == TRUE) */
 377:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 378:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 379:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 380:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 381:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #if (BCP_SLAVE_SUPPORT == TRUE)
 382:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 383:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #if defined(CP_TYP8_16_SLAVE_PP_STATE_MACHINE)
 384:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** static IO_ErrorType PP_SlaveRxInterpreter(IO_ChannelType channel);
 385:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #else
 386:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** static IO_ErrorType PP_SlaveReceiverStateMachine(IO_ChannelType chid);
 387:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #endif
 388:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 389:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** static IO_ErrorType PP_SlaveReceiveData(IO_ChannelType chid, BCP_PacketSizeType * pLen, BCP_OptionT
 390:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** static void PP_SlaveFragmentBuilder(IO_ChannelType ch, uint8_t chk_displ, uint8_t data_displ);
 391:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 392:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 393:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 394:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #endif /* (BCP_SLAVE_SUPPORT == TRUE) */
 395:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 396:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 397:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 398:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 399:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 400:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 401:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 402:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 403:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /* *************** */
 404:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /* Function Bodies */
 405:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /* *************** */
 406:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 407:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /* Exported function */
 408:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 409:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /* Platform Protocol Slave */
 410:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 411:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /**
 412:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** This method receives notification on events durig slave commmunication
 413:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 414:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \param [in]   notifVal notification codes:
 415:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 416:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \li #IO_N_READ_DATA_INIT
 417:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** Initialization state machine.
 418:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \li #IO_N_WRITE_DATA_INIT
 419:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** calls the callback defined by
 420:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \li #IO_N_TRANSFER_DONE
 421:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** transfer is done
 422:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \li #IO_N_ERROR
 423:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** ignored
 424:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 425:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \param [in]   chid channel index (sender of the notification)
 426:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \param [in]   error code error (ignorato)
 427:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 428:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 429:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \Example
 430:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** This method is used as callback
 431:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \code
 432:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	IO_PhyInitSyncType i2cParam={0};
 433:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 434:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	i2cParam.eventCB=PP_SlaveNotification;
 435:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   i2cParam.id=BCP_I2C_CH_ID;
 436:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 437:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	OCI2C_InitSync(&i2cParam);
 438:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \endcode
 439:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 440:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \warning
 441:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 442:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \note
 443:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 444:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \version		1.0.0
 445:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \date 			10/04/2009
 446:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \author			Roberto Fioravanti
 447:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \public \memberof PP_SlavePlatformProtocolClassType
 448:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** */
 449:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** IO_ErrorType PP_SlaveNotification(IO_NotificationType notifVal, IO_ChannelType chid, IO_ErrorType e
 450:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
 451:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	IO_ErrorType result=(IO_ErrorType)IO_E_OK;
 452:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	(void) error;
 453:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	switch(notifVal)
 454:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	{
 455:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     	case IO_N_READ_DATA_INIT:
 456:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #if defined(CP_TYP8_16_SLAVE_PP_STATE_MACHINE)
 457:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     		PP_SlavePlatformProtocol[chid].state= (IO_ValueType)0;
 458:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #else
 459:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     		PP_SlavePlatformProtocol[chid].state= (IO_ValueType)PP_SLAVE_RX_HDR_START;
 460:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #endif
 461:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     		PP_SlavePlatformProtocol[chid].dataCount=0;
 462:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     		break;
 463:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 464:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     	case IO_N_WRITE_DATA_INIT:
 465:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       /* call appl callback */
 466:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #ifdef BCM_SLAVE_ACTION_CB
 467:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     		if(PP_SlavePlatformProtocol[chid].dataCount)
 468:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     		{
 469:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     			(BCM_SLAVE_ACTION_CB)(chid, (IO_NotificationType)IO_N_ACTION);
 470:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     		}
 471:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #endif
 472:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			break;
 473:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 474:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     	case IO_N_TRANSFER_DONE:
 475:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #if defined(CP_TYP8_16_SLAVE_PP_STATE_MACHINE)
 476:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       result=PP_SlaveRxInterpreter(chid);
 477:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #else
 478:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			result=PP_SlaveReceiverStateMachine(chid);
 479:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #endif
 480:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			break;
 481:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 482:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #ifdef BCP_FRAGMENT_SLAVE
 483:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		case IO_N_TX_DONE:
 484:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			PP_SlavePlatformProtocol[chid].answerCount=0;
 485:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			PP_SlaveFragmentBuilder(chid, 0, 0);
 486:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			(void)PP_SlaveStartResponse(chid);
 487:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			break;
 488:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #endif
 489:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 490:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		case IO_N_COMPLETED:
 491:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		{
 492:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #if (ENABLE_BCP_EOSN==TRUE)
 493:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 				PP_EosnFunction(chid);
 494:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #endif
 495:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		}
 496:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			break;
 497:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 498:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		case IO_N_ERROR:
 499:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			PP_SlavePlatformProtocol[chid].dataCount=64;
 500:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			break;
 501:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 502:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		default:
 503:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			/* TODO: */;
 504:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	}
 505:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	return result;
 506:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** }
 507:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 508:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /**
 509:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** Returns the state of the specified channel
 510:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 511:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \param [in]   ch channel id
 512:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \return     IO_ValueType
 513:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \warning
 514:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 515:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \note
 516:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 517:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \version		1.0.0
 518:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \date 			10/04/2009
 519:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \author			Roberto Fioravanti
 520:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \private \memberof PP_SlavePlatformProtocolClassType
 521:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** */
 522:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** IO_ValueType PP_GetSlaveState(IO_ChannelType ch)
 523:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
 524:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	return PP_SlavePlatformProtocol[ch].state;
 525:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** }
 526:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 527:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /**
 528:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** Returns if the protocol level of the specified channel has received correctly the request
 529:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 530:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \param [in]   ch channel id
 531:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \return     bool_t
 532:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \retval     TRUE, if the request has been receved correctly
 533:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 534:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \warning
 535:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 536:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \note
 537:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 538:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \version		1.0.0
 539:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \date 			10/04/2009
 540:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \author			Roberto Fioravanti
 541:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \private \memberof PP_SlavePlatformProtocolClassType
 542:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** */
 543:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** bool_t PP_IsSlaveStateRxOK(IO_ChannelType ch)
 544:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
 545:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #if defined(CP_TYP8_16_SLAVE_PP_STATE_MACHINE)
 546:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	return (PP_SlavePlatformProtocol[ch].state ==(IO_ValueType)PP_SLAVE_RX_OK);
 547:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #else
 548:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	IO_ErrorType err;
 549:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	uint16_t crc = 0xFFFF;
 550:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 551:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	if(BCP_ChannelTable[ch].rxBuffer[PP_STX_INDEX]!= PP_STX)
 552:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	{
 553:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		err = (IO_ErrorType)IO_E_CHECK_PP;
 554:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		return (bool_t)(err == (IO_ErrorType)IO_E_OK);
 555:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	}
 556:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	if(BCP_ChannelTable[ch].rxBuffer[PP_FTYP_INDEX]==PP_FTYP_EE)
 557:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	{
 558:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		if(BCP_ChannelTable[ch].rxBuffer[PP_HDR_INDEX] & PP_HDR_CRC)
 559:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		{
 560:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			crc = BCP_CRC_calculate(PP_SlavePlatformProtocol[ch].dataCount, BCP_ChannelTable[ch].rxBuffer, 0
 561:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		} else
 562:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		{
 563:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			crc = LIB_ChkComputation((uint16_t)(PP_SlavePlatformProtocol[ch].dataCount-1), BCP_ChannelTable[
 564:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			crc &= (uint16_t)0x00FF;
 565:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			crc ^= BCP_ChannelTable[ch].rxBuffer[PP_SlavePlatformProtocol[ch].dataCount-1];
 566:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		}
 567:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	}
 568:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	else
 569:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	{
 570:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		if(PP_SlavePlatformProtocol[ch].dataCount == 6)
 571:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		{
 572:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			crc = LIB_ChkComputation((uint16_t)(PP_SlavePlatformProtocol[ch].dataCount - 1), BCP_ChannelTabl
 573:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			crc &= (uint16_t)0x00FF;
 574:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			crc ^= BCP_ChannelTable[ch].rxBuffer[PP_SlavePlatformProtocol[ch].dataCount-1];
 575:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		}
 576:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		else
 577:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		{
 578:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			err = (IO_ErrorType)IO_E_CHECK_PP;
 579:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			return (bool_t)(err == (IO_ErrorType)IO_E_OK);
 580:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		}
 581:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	}
 582:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 583:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	if(crc==0)
 584:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	{
 585:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		/* ok!!! */
 586:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		BCM_CountersUpdater(ch, BCP_PACKET_NUM_NOERR_CNT);
 587:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		err = (IO_ErrorType)IO_E_OK;
 588:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	} else
 589:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	{
 590:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		BCM_CountersUpdater(ch, BCP_PP_CORRUPTED_PKT_ERR_CNT);
 591:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		PP_SlavePlatformProtocol[ch].state++;
 592:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		err = (IO_ErrorType)IO_E_CHECK_PP;
 593:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	}
 594:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 595:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	return (bool_t) (err == (IO_ErrorType) IO_E_OK);
 596:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #endif
 597:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** }
 598:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 599:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 600:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /**
 601:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** Starts answer as slave.
 602:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 603:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \param [in]   ch Identificatore del canale di comunicazione.
 604:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 605:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \return     IO_ErrorType
 606:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \retval     IO_E_INVALID_VALUE: buffer o len non validi
 607:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****             IO_E_BUSY: bus occupato (solo master)
 608:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****             IO_E_OK: trasmissione avviata regolarmente.
 609:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \warning
 610:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 611:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \note
 612:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 613:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \version		1.0.0
 614:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \date 			10/04/2009
 615:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \author			Roberto Fioravanti
 616:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \private \memberof PP_SlavePlatformProtocolClassType
 617:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** */
 618:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** IO_ErrorType PP_SlaveStartResponse(IO_ChannelType ch)
 619:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
 620:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 621:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   CommDriverParamType requestParam={0};
 622:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 623:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   requestParam.len = PP_SlavePlatformProtocol[ch].answerCount;
 624:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	if(!PP_SlavePlatformProtocol[ch].dataCount)
 625:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	{
 626:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   	    requestParam.option |= IO_CLOSE_TX; /* last fragment */
 627:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	}
 628:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   requestParam.buffer=BCP_ChannelTable[ch].txBuffer;
 629:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   
 630:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   return ((IO_PhyCommunicationSync)(BCP_ChannelTable[ch].StartTxSync))(&requestParam);
 631:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** }
 632:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 633:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 634:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 635:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 636:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #if BCP_MASTER_SUPPORT == TRUE
 637:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** IO_ErrorType PP_InitChSync(IO_ChannelType ch)
 638:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
 639:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 640:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   if(ch>=BCP_CH_NUM)
 641:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   {
 642:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     return (IO_ErrorType)IO_E_INVALID_CHANNEL_ID;
 643:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   }
 644:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 645:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   /*TODO : only for allocated address*/
 646:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   //PP_Ntwk[ch].esit=IO_E_OK;
 647:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   //PP_Ntwk[ch].idReq=0xFF;
 648:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 649:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   return (IO_ErrorType)IO_E_OK;
 650:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** }
 651:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #endif
 652:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 653:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /**
 654:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** Returns the result of the last request.
 655:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 656:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \param [in]   ch  Master Protocol channel
 657:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 658:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \return     IO_ErrorType
 659:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \retval   	IO_E_OK: successfully
 660:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \retval   	TODO : list other possible value
 661:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \warning
 662:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 663:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \note
 664:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 665:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \version		1.0.0
 666:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \date 			10/04/2009
 667:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \author			Roberto Fioravanti
 668:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** */
 669:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #if BCP_MASTER_SUPPORT == TRUE
 670:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** IO_ErrorType PP_GetEsit(IO_ChannelType ch)
 671:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
 672:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   return MasterPlatformProtocol[ch].error;
 673:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** }
 674:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #endif
 675:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 676:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /**
 677:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** Imposta i paramentri relativi ad una richiesta.
 678:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 679:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \param [in]   indexReq Indice dellla richiesta
 680:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \param [in]   idBoard  Indice del destinatario
 681:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \param [in]   pData Puntatore ai dati
 682:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \param [in]   len  dimensione in byte dei dati
 683:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 684:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \return     IO_ErrorType
 685:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \retval   IO_E_OK: successo
 686:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \warning
 687:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 688:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \note
 689:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 690:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \version		1.0.0
 691:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \date 			10/04/2009
 692:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \author			Roberto Fioravanti
 693:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** */
 694:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #if BCP_MASTER_SUPPORT == TRUE
 695:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** IO_ErrorType PP_MasterSetParamRequest(IO_ChannelType indexReq, IO_ChannelType idBoard, IO_MemPtrTyp
 696:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
 697:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   IO_ChannelType channel=PP_NtwkTable[idBoard].drvCh;
 698:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 699:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   if(indexReq>PP_REQ_NUM)
 700:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   {
 701:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     return (IO_ErrorType)IO_E_INVALID_CHANNEL_ID;
 702:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   }
 703:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 704:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   if(len>*BCP_ChannelTable[channel].reqTable[indexReq].pLenReq)
 705:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   {
 706:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     return (IO_ErrorType)IO_E_INVALID_SIZE;
 707:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   }
 708:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 709:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   switch(BCP_ChannelTable[channel].reqTable[indexReq].code)
 710:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   {
 711:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     case 0x3F:
 712:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     {
 713:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       PP_AddressType addr;
 714:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       addr=((PP_RRamParamType*)pData)->addr;
 715:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       *(BCP_ChannelTable[channel].reqTable[indexReq].pDataReq)=(uint8_t)(addr.data & 0xFF);
 716:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       *(BCP_ChannelTable[channel].reqTable[indexReq].pDataReq+1)=(uint8_t)((addr.data >> 8) & 0xFF)
 717:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       if(((PP_RRamParamType*)pData)->len==0 || ((PP_RRamParamType*)pData)->len>= 0x0100)
 718:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       {
 719:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         ((PP_RRamParamType*)pData)->len=0x0100;
 720:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       }
 721:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 722:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       addr.data+=((PP_RRamParamType*)pData)->len-1;
 723:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 724:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       *(BCP_ChannelTable[channel].reqTable[indexReq].pDataReq+2)=(uint8_t)(addr.data & 0xFF);
 725:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       *(BCP_ChannelTable[channel].reqTable[indexReq].pDataReq+3)=(uint8_t)((addr.data >> 8) & 0xFF)
 726:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 727:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     }
 728:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       break;
 729:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 730:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     default:
 731:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         {
 732:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	        IO_BufferType  ptr;
 733:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	        ptr = BCP_ChannelTable[channel].reqTable[indexReq].pDataReq;
 734:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	        (void)memcpy(ptr, pData, len);
 735:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         }
 736:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   }
 737:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 738:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 739:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   return (IO_ErrorType)IO_E_OK;
 740:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** }
 741:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #endif
 742:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 743:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 744:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /**
 745:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** Imposta i paramentri relativi ad una richiesta.
 746:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 747:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \param [in]   channel Channel index
 748:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \param [in]   indexReq  Request index
 749:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \param [in]   pData pointer to data
 750:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \param [in]   len  size in bytes of data
 751:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 752:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \return     IO_ErrorType
 753:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \retval   IO_E_OK: successo
 754:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \warning
 755:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 756:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \note
 757:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 758:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \version		1.0.0
 759:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \date 			10/04/2009
 760:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \author			Roberto Fioravanti
 761:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** */
 762:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #if BCP_MASTER_SUPPORT == TRUE
 763:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** IO_ErrorType PP_MasterSetParamRequestSync(IO_ChannelType channel, IO_ChannelType indexReq, IO_MemPt
 764:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
 765:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 766:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   PP_MasterProtocolTableType* pMstProtTbl= &BCP_ChannelTable[channel].reqTable[indexReq];
 767:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 768:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   if(indexReq>PP_REQ_NUM)
 769:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   {
 770:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     return (IO_ErrorType)IO_E_INVALID_CHANNEL_ID;
 771:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   }
 772:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 773:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   if(len>* pMstProtTbl->pLenReq)
 774:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   {
 775:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     return (IO_ErrorType)IO_E_INVALID_SIZE;
 776:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   }
 777:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 778:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   switch(pMstProtTbl->code)
 779:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   {
 780:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     case 0x3F:
 781:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     {
 782:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       PP_AddressType addr;
 783:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       addr=((PP_RRamParamType*)pData)->addr;
 784:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       *(pMstProtTbl->pDataReq)=(uint8_t)(addr.data & 0xFF);
 785:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       *(pMstProtTbl->pDataReq+1)=(uint8_t)((addr.data >> 8) & 0xFF);
 786:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       if(((PP_RRamParamType*)pData)->len==0 || ((PP_RRamParamType*)pData)->len>= 0x0100)
 787:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       {
 788:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         ((PP_RRamParamType*)pData)->len=0x0100;
 789:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       }
 790:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 791:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       addr.data+=((PP_RRamParamType*)pData)->len-1;
 792:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 793:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       *(pMstProtTbl->pDataReq+2)=(uint8_t)(addr.data & 0xFF);
 794:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       *(pMstProtTbl->pDataReq+3)=(uint8_t)((addr.data >> 8) & 0xFF);
 795:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 796:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     }
 797:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       break;
 798:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 799:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     default:
 800:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         {
 801:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	        IO_BufferType  ptr;
 802:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	        ptr = pMstProtTbl->pDataReq;
 803:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	        (void)memcpy(ptr, pData, len);
 804:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         }
 805:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   }
 806:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 807:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 808:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   return (IO_ErrorType)IO_E_OK;
 809:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** }
 810:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #endif
 811:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 812:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 813:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** IO_BufferSizeType PP_GetRequestLen(IO_BufferType txBuffer, PP_MasterProtocolTableType * info)
 814:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
 815:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #ifndef CP_GENERAL_PURPOSE
 816:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     (void) txBuffer;
 817:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #endif
 818:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	switch(info->paramType)
 819:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	{
 820:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		case PPM_REQPARAMTYPE_BOOT:
 821:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			return (IO_BufferSizeType)PP_LEN_FROM_GP_PARAM(info->pDataReq);
 822:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		/*lint -e{527} Warning 527: */
 823:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		break;
 824:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 825:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 826:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	#if defined(CP_GENERAL_PURPOSE)
 827:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 828:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	    case PPM_REQPARAMTYPE_GP:
 829:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	      switch(PP_CMD_ID_FROM_GP_PARAM(info->pDataReq))
 830:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	      {
 831:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	        case PP_CMD_EXTENDED_WITH_ANSW:
 832:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	        case PP_CMD_EXTENDED_NO_ANSW:
 833:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 834:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 				return (IO_BufferSizeType)(PP_LEN_INDEX+1+*(txBuffer + PP_LEN_INDEX)+((*(txBuffer + PP_HDR_INDE
 835:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 836:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			break;
 837:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 838:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	        case PP_CMD_BASIC:
 839:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 				return 6;
 840:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	        break;
 841:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	      }
 842:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	    break;
 843:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	#endif
 844:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 845:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	#if defined(INDESIT_PARAM_EXTENDED)
 846:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	    case PPM_REQPARAMTYPE_EXTENDED:
 847:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	      return (IO_BufferSizeType)(PP_LEN_INDEX+1+*info->pLenReq+((info->option&PPM_OPTION_CRC)?2:1)
 848:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	    break;
 849:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	#endif
 850:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	  }
 851:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 852:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	  return 0;
 853:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** }
 854:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 855:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #if BCP_MASTER_SUPPORT == TRUE
 856:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** IO_BufferSizeType PP_PrepareRequest(IO_BufferType txBuffer, const PP_MasterProtocolTableType * info
 857:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
 858:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 859:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	IO_BufferSizeType packetLen;
 860:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 861:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	/* data to be copied parameters */
 862:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	IO_BufferType      pData=0;						/*TODO to delete buffer */
 863:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	IO_BufferSizeType  len=0;							/*TODO to delete len */
 864:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	IO_BufferSizeType  s_index=0, d_index=0;			/*TODO to delete source and destination index */
 865:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 866:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	IO_BufferSizeType  ed_index=0;					/* number of data on which crc or chr will be calculated */
 867:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 868:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 869:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	switch(info->paramType)
 870:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	{
 871:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		case PPM_REQPARAMTYPE_BOOT:
 872:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			packetLen=(IO_BufferSizeType)PP_LEN_FROM_GP_PARAM(info->pDataReq);
 873:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			if(info->pDataReq)
 874:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			{
 875:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 				(void)memcpy(txBuffer, PP_PDATA_FROM_GP_PARAM(info->pDataReq), PP_LEN_FROM_GP_PARAM(info->pData
 876:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			}
 877:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		break;
 878:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 879:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 880:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	#if defined(CP_GENERAL_PURPOSE)
 881:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 882:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	    case PPM_REQPARAMTYPE_GP:
 883:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	      switch(PP_CMD_ID_FROM_GP_PARAM(info->pDataReq))
 884:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	      {
 885:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	        case PP_CMD_EXTENDED_WITH_ANSW:
 886:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	        case PP_CMD_EXTENDED_NO_ANSW:
 887:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 				*(txBuffer + PP_STX_INDEX) = PP_STX;
 888:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 				*(txBuffer + PP_FTYP_INDEX) = PP_FTYP_EE;
 889:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 				*(txBuffer + PP_HDR_INDEX) = PP_HDR_FROM_GP_PARAM(info->pDataReq);
 890:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 				*(txBuffer + PP_DTYP_INDEX) = PP_TYPE_FROM_GP_PARAM(info->pDataReq);
 891:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 				*(txBuffer + PP_LEN_INDEX) = PP_LEN_FROM_GP_PARAM(info->pDataReq);
 892:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 893:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 894:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 				packetLen=(IO_BufferSizeType)(PP_LEN_INDEX+1+*(txBuffer + PP_LEN_INDEX)+((*(txBuffer + PP_HDR_I
 895:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 				ed_index= PP_LEN_INDEX+1+*(txBuffer + PP_LEN_INDEX);
 896:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 897:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 				if(info->pDataReq)
 898:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 				{
 899:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 					(void)memcpy((txBuffer + PP_DAT_INDEX), PP_PDATA_FROM_GP_PARAM(info->pDataReq), *(txBuffer + P
 900:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 				}
 901:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 902:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			break;
 903:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 904:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 905:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	        case PP_CMD_BASIC:
 906:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 				*(txBuffer + PP_STX_INDEX) = PP_STX;
 907:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 				*(txBuffer + PP_BS_TYP_INDEX) = PP_BS_TYPE_FROM_GP_PARAM(info->pDataReq);
 908:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 909:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 				packetLen=6;
 910:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 				ed_index=5;
 911:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 912:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 				if(info->pDataReq)
 913:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 				{
 914:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 					(void)memcpy((txBuffer + 2), PP_BS_PDATA_FROM_GP_PARAM(info->pDataReq), 3);
 915:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 				}
 916:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 917:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	        break;
 918:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	      }
 919:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	    break;
 920:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	#endif
 921:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 922:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	#if defined(INDESIT_PARAM_EXTENDED)
 923:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	    case PPM_REQPARAMTYPE_EXTENDED:
 924:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	      *(txBuffer + PP_STX_INDEX) = PP_STX;
 925:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	      *(txBuffer + PP_FTYP_INDEX) = PP_FTYP_EE;
 926:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	      *(txBuffer + PP_HDR_INDEX) = (info->option&PPM_OPTION_CRC)?PP_HDR_CRC:PP_HDR_CHK;
 927:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	      *(txBuffer + PP_DTYP_INDEX) = info->code;
 928:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	      *(txBuffer + PP_LEN_INDEX) = (uint8_t)(*info->pLenReq);
 929:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	      pData=info->pDataReq;
 930:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	      len=*info->pLenReq;
 931:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	      d_index=PP_DAT_INDEX;
 932:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	      s_index=0;
 933:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	      packetLen=(IO_BufferSizeType)(PP_LEN_INDEX+1+*info->pLenReq+((info->option&PPM_OPTION_CRC)?2
 934:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	      ed_index= PP_LEN_INDEX+1+*(txBuffer + PP_LEN_INDEX); //info.LenReq;
 935:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 936:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 937:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	      if(info->pDataReq)
 938:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			{
 939:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****             (void) memcpy((txBuffer + d_index), pData+s_index, len);
 940:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			}
 941:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			else
 942:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			{
 943:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			//memset(txBuffer + d_index, 0, len);
 944:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			}
 945:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 946:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	    break;
 947:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	#endif
 948:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	  }
 949:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 950:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	  /* calculate crc or chk */
 951:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	  if(*(txBuffer + PP_STX_INDEX) == PP_STX)
 952:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	  {
 953:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	    if((*(txBuffer + PP_FTYP_INDEX) == PP_FTYP_EE) && (*(txBuffer + PP_HDR_INDEX) & PP_HDR_CRC)/*i
 954:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	    {
 955:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	      crc_append(ed_index,txBuffer);
 956:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	    } else
 957:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	    {
 958:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	      chk_append(ed_index,txBuffer);
 959:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	    }
 960:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	  }
 961:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 962:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	  return packetLen;
 963:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** }
 964:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 965:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 966:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 967:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** I2C_SlaveAddressType PP_GetSlaveAddress(IO_ChannelType idBoard, PP_MasterProtocolTableType *info)
 968:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
 969:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** switch(info->paramType)
 970:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   {
 971:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #if defined(CP_GENERAL_PURPOSE)
 972:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     case PPM_REQPARAMTYPE_GP:
 973:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     case PPM_REQPARAMTYPE_BOOT:
 974:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****        return I2C_ADDRESS_FROM_GP_PARAM(info->pDataReq);
 975:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     break;
 976:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #endif
 977:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 978:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #if defined(INDESIT_PARAM_EXTENDED)
 979:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     case PPM_REQPARAMTYPE_EXTENDED:
 980:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     	return PP_NtwkTable[idBoard].slaveAddress;
 981:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     break;
 982:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #endif
 983:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   }
 984:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** }
 985:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 986:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 987:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 988:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** IO_ErrorType PP_StartDriverRequestSync(IO_ChannelType channel, CommDriverParamType *param)
 989:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
 990:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	MasterPlatformProtocol[channel].error = ((IO_PhyCommunicationSync)(BCP_ChannelTable[channel].Start
 991:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 992:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 993:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	if(MasterPlatformProtocol[channel].error == (IO_ErrorType)IO_E_OK )
 994:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	{
 995:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	    MasterPlatformProtocol[channel].error = (IO_ErrorType)IO_E_WORKING;
 996:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	}
 997:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
 998:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	return MasterPlatformProtocol[channel].error;
 999:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** }
1000:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #endif
1001:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /**
1002:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** Starts the request \a indexReq on the channel \a channel of the protocol.
1003:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1004:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** builds the packet and calls the driver's method. It doesn't wait for the request is over.
1005:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1006:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \param [in] 	channel
1007:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** Protocol channel
1008:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \param [in] 	indexReq IO_ChannelType
1009:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** Protocol request index (PP_MasterRequestTable).
1010:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \param [in]		param
1011:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** pointer to driver parameters
1012:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1013:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \return 		  IO_ErrorType
1014:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1015:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \retval     #IO_E_WORKING
1016:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** Richiesta avviata con successo.
1017:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \retval     #IO_E_BUSY
1018:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** Richiesta gia' in atto
1019:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \retval     #IO_E_INVALID_VALUE
1020:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** Parametri non corretti
1021:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1022:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \warning
1023:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1024:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \note
1025:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1026:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \version		1.0.0
1027:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \date 			15/04/2009
1028:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \author			Roberto Fioravanti
1029:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1030:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \todo  PP_BOOT_TYPE_READ not implemented yet
1031:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \todo PPM_REQPARAMTYPE_EXTENDED not implemented
1032:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \todo change name
1033:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** */
1034:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #if BCP_MASTER_SUPPORT == TRUE
1035:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** IO_ErrorType PP_MasterPrepareRequest(IO_ChannelType indexReq, IO_ChannelType channel, CommDriverPar
1036:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
1037:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1038:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   BCP_BuilderType commPrepareInfo;
1039:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1040:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   if(indexReq>PP_REQ_NUM)
1041:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   {
1042:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     return (IO_ErrorType)IO_E_INVALID_CHANNEL_ID;
1043:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   }
1044:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1045:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   /* Initializes state machine Protocol Protocol */
1046:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   MasterPlatformProtocol[channel].indexRequest=indexReq;
1047:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   MasterPlatformProtocol[channel].lastRequestLen=0;
1048:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   
1049:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   switch(PP_MasterProtocolTable[indexReq].idStateMachine)
1050:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   {
1051:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     case BCP_BOOTLOADER:
1052:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       param->option=IO_OPT_MASTER;
1053:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       param->buffer=BCP_ChannelTable[channel].txBuffer;
1054:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       param->callback=BCP_MasterNotify;
1055:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       switch(PP_TYPE_FROM_GP_PARAM(PP_MasterProtocolTable[indexReq].pDataReq))
1056:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       {
1057:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		  case PP_BOOT_TYPE_ACK:
1058:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		  case PP_BOOT_TYPE_ERASE:
1059:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		  case PP_BOOT_TYPE_WRITE:
1060:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		  case PP_BOOT_TYPE_QUIT:
1061:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			  MasterPlatformProtocol[channel].state=BOOT_RESPONSE_GET_ACK;
1062:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			  break;
1063:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		  case PP_BOOT_TYPE_IDENT:
1064:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			  MasterPlatformProtocol[channel].state=BOOT_RESPONSE_GET_LEN;
1065:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			  break;
1066:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		  case PP_BOOT_TYPE_READ:
1067:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			  MasterPlatformProtocol[channel].state=BOOT_GET_DATA;
1068:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			  break;
1069:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       }
1070:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       break;
1071:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1072:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     default:
1073:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1074:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1075:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     	MasterPlatformProtocol[channel].state=PP_RESPONSE_GET_ACK;
1076:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1077:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		param->option=IO_OPT_MASTER;
1078:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		param->buffer=BCP_ChannelTable[channel].txBuffer;
1079:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		param->callback=BCP_MasterNotify;
1080:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   }
1081:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1082:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   return (IO_ErrorType)IO_E_OK;
1083:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** }
1084:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #endif
1085:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1086:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /**
1087:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1088:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** Avvia la procedura per la risposta su un canale di comunicazione.
1089:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1090:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \param [in] 	channel Indice del canale di comunicazione
1091:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \param [in] 	master  Parametri per il processamento della risposta.
1092:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1093:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \return     #IO_ErrorType
1094:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1095:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \retval     IO_E_OK
1096:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** Richiesta avviata con successo.
1097:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \retval     IO_E_INVALID_VALUE
1098:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** Parametri non corretti.
1099:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \retval     IO_E_INVALID_CHANNEL_ID
1100:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** Canale non corretto.
1101:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1102:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \warning
1103:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1104:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \note
1105:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1106:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \version		1.0.0
1107:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \date 			15/04/2009
1108:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \author			Roberto Fioravanti
1109:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** */
1110:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #if BCP_MASTER_SUPPORT == TRUE
1111:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** IO_ErrorType BCP_MasterStartResponce(  IO_ChannelType channel, BCP_MasterType * master)
1112:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
1113:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   CommDriverParamType responceParam={0};
1114:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   responceParam.len=master->requestLen;
1115:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   responceParam.callback=master->callback;
1116:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   responceParam.option= IO_OPT_MASTER | master->option;
1117:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   responceParam.buffer=BCP_ChannelTable[channel].rxBuffer+MasterPlatformProtocol[channel].lastReque
1118:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1119:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   MasterPlatformProtocol[channel].lastRequestLen+=master->requestLen;
1120:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1121:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   return ((IO_PhyCommunicationSync)(BCP_ChannelTable[channel].StartRxSync))(&responceParam);
1122:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** }
1123:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1124:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1125:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1126:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1127:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** void PP_MasterValidateEEAnswer(IO_ChannelType channel, PP_MasterProtocolTableType* pProt)
1128:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
1129:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** IO_BufferSizeType  len;
1130:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** uint16_t crc;
1131:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1132:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** BCP_ChannelTableType const * pChannel = &BCP_ChannelTable[channel];
1133:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     switch(pProt->paramType)
1134:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     {
1135:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #if defined(CP_GENERAL_PURPOSE)
1136:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     case PPM_REQPARAMTYPE_GP:
1137:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1138:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       if((pChannel->rxBuffer[PP_STX_INDEX] == PP_ACK))
1139:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       {
1140:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1141:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****             switch(pProt->pDataReq[PP_GP_CMDID_INDEX])
1142:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     		{
1143:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1144:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     		case PP_CMD_EXTENDED_WITH_ANSW:
1145:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     			/* extended with answer */
1146:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     			len=(pChannel->rxBuffer[PP_LEN_INDEX+PP_ACK_SZ]==0)?0x100:pChannel->rxBuffer[PP_LEN_INDEX+PP
1147:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     			
1148:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     			len=(len+PP_OUT_BUFF_RESERVED_SZ>=pProt->LenRes)?pProt->LenRes-PP_OUT_BUFF_RESERVED_SZ:len;
1149:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     			
1150:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     			if(pChannel->txBuffer[PP_HDR_INDEX+PP_ACK_SZ] & PP_HDR_CRC)
1151:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                 {
1152:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                   crc = BCP_CRC_calculate(len+PP_DAT_INDEX+2, &(pChannel->rxBuffer[PP_ACK_SZ]), 0xF
1153:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                 }
1154:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                 else
1155:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                 {
1156:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                   crc= LIB_ChkComputation((uint16_t)(len+PP_DAT_INDEX), &(pChannel->rxBuffer[PP_ACK
1157:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                   crc &= (uint16_t)0x00FF;
1158:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                   crc = crc^(pChannel->rxBuffer[len+PP_ACK_SZ+PP_DAT_INDEX]);
1159:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                 }
1160:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1161:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                 if(!crc && (pChannel->rxBuffer[PP_STX_INDEX+PP_ACK_SZ] == PP_STX)) 
1162:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                 {
1163:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1164:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                     MasterPlatformProtocol[channel].error = (IO_ErrorType)IO_E_OK;
1165:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                     
1166:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                     PP_EncodeHdrGPAnsParam(pProt, pChannel->rxBuffer[PP_ACK_POS]);
1167:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     			    PP_EncodeDataGPAnsParam(pProt, len, &pChannel->rxBuffer[PP_DAT_INDEX+PP_ACK_SZ]);
1168:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     			    
1169:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     				
1170:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                     BCM_CountersUpdater(channel, BCP_PACKET_NUM_NOERR_CNT);
1171:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                 } else 
1172:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                 {
1173:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                   BCM_CountersUpdater(channel, BCP_PP_CORRUPTED_PKT_ERR_CNT);
1174:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                   
1175:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                   MasterPlatformProtocol[channel].error = (IO_ErrorType)IO_E_CHECK_PP;
1176:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                 }
1177:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         
1178:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     			break;
1179:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     		case PP_CMD_EXTENDED_NO_ANSW:
1180:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     		        PP_EncodeHdrGPAnsParam(pProt, pChannel->rxBuffer[PP_ACK_POS]);
1181:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     		        MasterPlatformProtocol[channel].error = (IO_ErrorType)IO_E_OK;
1182:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     		    break;
1183:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1184:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     		case PP_CMD_BASIC:
1185:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     		    len=(pChannel->rxBuffer[PP_BS_LEN_ANS_INDEX+PP_ACK_SZ]==0)?0x100:pChannel->rxBuffer[PP_BS
1186:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     		    len=(len+PP_OUT_BUFF_RESERVED_SZ>=pProt->LenRes)?pProt->LenRes-PP_OUT_BUFF_RESERVED_SZ:le
1187:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1188:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                 if( ((*(pChannel->txBuffer+PP_BS_TYP_INDEX+PP_ACK_SZ) & PP_BS_TYPE_MSK) == PP_BS_TY
1189:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                 && (pChannel->rxBuffer[PP_STX_INDEX+PP_ACK_SZ] == PP_STX) 
1190:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                 )
1191:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                 {
1192:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                     crc= LIB_ChkComputation((uint16_t)(len+PP_BS_DAT_ANS_INDEX), &(pChannel->rxBuff
1193:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                     crc &= (uint16_t)0x00FF;
1194:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                     crc = crc^(pChannel->rxBuffer[len+PP_ACK_SZ+PP_BS_DAT_ANS_INDEX]);
1195:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                 } else
1196:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                 {
1197:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                     crc=0;
1198:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                 }
1199:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     		    
1200:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     			/* basic with answer */
1201:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     			if(!crc)
1202:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     			{
1203:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     			    PP_EncodeHdrGPAnsParam(pProt, pChannel->rxBuffer[PP_ACK_POS]);
1204:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     			    if( ((*(pChannel->txBuffer+PP_BS_TYP_INDEX+PP_ACK_SZ) & PP_BS_TYPE_MSK) == PP_BS_TYPE_RE
1205:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     			    {
1206:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     			        PP_EncodeDataGPAnsParam(pProt, len, &pChannel->rxBuffer[PP_BS_DAT_ANS_INDEX+PP_ACK_S
1207:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     			    }
1208:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     			    MasterPlatformProtocol[channel].error = (IO_ErrorType)IO_E_OK;
1209:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     				
1210:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     			}
1211:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     			else 
1212:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                 {
1213:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1214:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                   BCM_CountersUpdater(channel, BCP_PP_CORRUPTED_PKT_ERR_CNT);
1215:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                   MasterPlatformProtocol[channel].error = (IO_ErrorType)IO_E_CHECK_PP;
1216:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1217:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                 }
1218:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                 
1219:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     			break;
1220:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     		}
1221:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1222:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     		break;
1223:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     	}
1224:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     	else if(pChannel->rxBuffer[PP_STX_INDEX] == PP_NACK)
1225:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     	{
1226:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     		PP_EncodeHdrGPAnsParam(pProt, pChannel->rxBuffer[PP_ACK_POS]);
1227:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     		MasterPlatformProtocol[channel].error = (IO_ErrorType)IO_E_ACK_PP;
1228:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     	}else
1229:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     	{
1230:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     		MasterPlatformProtocol[channel].error = (IO_ErrorType)IO_E_ACK_BUS;
1231:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     	}
1232:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       break;
1233:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     #endif
1234:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     case PPM_REQPARAMTYPE_EXTENDED:
1235:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         /* 'len' extended protocol*/
1236:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         len=(pChannel->rxBuffer[PP_LEN_INDEX+PP_ACK_SZ]==0)?0x100:pChannel->rxBuffer[PP_LEN_INDEX+P
1237:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1238:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         len=(len+PP_OUT_BUFF_RESERVED_SZ>=pProt->LenRes)?pProt->LenRes-PP_OUT_BUFF_RESERVED_SZ:len;
1239:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1240:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         if(pChannel->txBuffer[PP_HDR_INDEX+PP_ACK_SZ] & PP_HDR_CRC)
1241:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         {
1242:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           crc = BCP_CRC_calculate(len+PP_DAT_INDEX+2, &(pChannel->rxBuffer[PP_ACK_SZ]), 0xFFFF);
1243:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         }
1244:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         else
1245:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         {
1246:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           crc= LIB_ChkComputation((uint16_t)(len+PP_DAT_INDEX), &(pChannel->rxBuffer[PP_ACK_SZ]),0)
1247:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           crc &= (uint16_t)0x00FF;
1248:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           crc = crc^(pChannel->rxBuffer[len+PP_ACK_SZ+PP_DAT_INDEX]);
1249:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         }
1250:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1251:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         if(!crc) {
1252:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1253:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           /* TODO delete PP_Ntwk[MasterPlatformProtocol[channel].chBoard].esit=IO_E_OK;*/
1254:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         	MasterPlatformProtocol[channel].error = (IO_ErrorType)IO_E_OK;
1255:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1256:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           if(pProt->option & PPM_OPTION_DATACOPY)
1257:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           {
1258:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****               //copia: dati
1259:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         	  (void)memcpy(pProt->pDataRes+PP_OUT_BUFF_RESERVED_SZ, &pChannel->rxBuffer[PP_DAT_INDEX+P
1260:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****               *((IO_BufferSizeType *)pProt->pDataRes)=len + (PP_OUT_BUFF_RESERVED_SZ - sizeof(IO_Bu
1261:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           }
1262:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           BCM_CountersUpdater(channel, BCP_PACKET_NUM_NOERR_CNT);
1263:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         } else {
1264:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1265:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           BCM_CountersUpdater(channel, BCP_PP_CORRUPTED_PKT_ERR_CNT);
1266:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           /* TODO delete PP_Ntwk[MasterPlatformProtocol[channel].chBoard].esit=IO_E_CHECK_PP;*/
1267:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           MasterPlatformProtocol[channel].error = (IO_ErrorType)IO_E_OK;
1268:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1269:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         }
1270:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     break;
1271:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1272:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     }   
1273:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** }
1274:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1275:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** IO_ErrorType PP_MasterValidateAnswer (IO_ChannelType channel)
1276:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
1277:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** IO_ChannelType idx=MasterPlatformProtocol[channel].indexRequest;
1278:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** PP_MasterProtocolTableType *pProt = (PP_MasterProtocolTableType *) &PP_MasterProtocolTable[idx];
1279:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     switch(pProt->idStateMachine)
1280:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     {
1281:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         case BCP_BOOTLOADER:
1282:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           //CP_MasterValidateBootLoaderAnswer(channel);
1283:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           break;
1284:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         default:
1285:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           PP_MasterValidateEEAnswer(channel, pProt);
1286:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     }
1287:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     return PP_GetEsit(channel);    
1288:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** }
1289:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #endif
1290:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1291:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1292:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /**
1293:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1294:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** Callback del driver di comunicazione per il processamento delle notifiche.
1295:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1296:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \param [in]   notifVal  Identificatore della notifica
1297:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \param [in]   channel   Indice del canale di comunicazione
1298:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \param [in]   error     Codice dell'errore della notifica
1299:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1300:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \version		1.0.0
1301:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \date 			15/04/2009
1302:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \author			Roberto Fioravanti
1303:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** */
1304:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #if BCP_MASTER_SUPPORT == TRUE
1305:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** IO_ErrorType BCP_MasterNotify (IO_NotificationType notifVal,IO_ChannelType channel, IO_ErrorType er
1306:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
1307:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** IO_ChannelType idx=MasterPlatformProtocol[channel].indexRequest;
1308:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1309:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   switch(notifVal)
1310:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   {
1311:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     case IO_N_TRANSFER_DONE:
1312:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       switch(PP_MasterProtocolTable[idx].idStateMachine)
1313:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       {
1314:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         case BCP_BOOTLOADER:
1315:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           BCP_BootLoaderResponseStateMachine(channel);
1316:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           break;
1317:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         default:
1318:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           BCP_MasterResponseStateMachine(channel, error);
1319:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       }
1320:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1321:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       break;
1322:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     case IO_N_ERROR:
1323:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       PP_Ntwk[MasterPlatformProtocol[channel].chBoard].esit=error;
1324:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       if((channel == BCP_I2C_CH_ID) && (error == (IO_ErrorType)IO_E_ACK_BUS))
1325:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       {
1326:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         BCM_CountersUpdater(channel, BCP_DRV2_CNT);
1327:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       }
1328:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1329:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       MasterPlatformProtocol[channel].error = error;
1330:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       break;
1331:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     default:
1332:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     ;
1333:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1334:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   }
1335:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   return IO_E_OK;
1336:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** }
1337:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #endif
1338:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1339:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1340:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #if BCP_MASTER_SUPPORT == TRUE
1341:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** void PP_EncodeHdrGPAnsParam(PP_MasterProtocolTableType* pGpReq, uint8_t ackval)
1342:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
1343:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	
1344:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	if(*(pGpReq->pDataRes+PP_GP_CMDID_ANS_INDEX) != PP_CMD_EXTENDED_NO_ANSW)
1345:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	{
1346:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		/* HDR */
1347:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		*(pGpReq->pDataRes+PP_GP_HDR_ANS_INDEX)=0x02 | *(pGpReq->pDataReq+ PP_GP_HDR_INDEX);
1348:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1349:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		/* TYP */
1350:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		*(pGpReq->pDataRes+PP_GP_TYP_ANS_INDEX)=*(pGpReq->pDataReq+ PP_GP_TYP_INDEX);
1351:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	}
1352:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	
1353:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	/* copying seq num and CmdId */
1354:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	(void)memcpy(pGpReq->pDataRes+PP_OUT_BUFF_RESERVED_SZ, pGpReq->pDataReq, PP_OUT_BUFF_RESERVED_SZ);
1355:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1356:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	/* ACK */
1357:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	*(pGpReq->pDataRes+PP_GP_ACK_ANS_INDEX)=ackval;
1358:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1359:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	/* bridge data len */
1360:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	*((IO_BufferSizeType *)pGpReq->pDataRes)= (IO_BufferSizeType)(PP_GP_ACK_ANS_INDEX - PP_OUT_BUFF_RE
1361:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1362:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** }
1363:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1364:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #if 0
1365:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** void PP_EncodeHdrAnsBridgeParam(IO_ChannelType idx, uint8_t ackval)
1366:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
1367:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	/* copying seq num and CmdId */
1368:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	(void)memcpy(PP_MasterProtocolTable[idx].pDataRes+PP_OUT_BUFF_RESERVED_SZ, PP_MasterProtocolTable[
1369:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1370:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	if(*(PP_MasterProtocolTable[idx].pDataRes+PP_GP_CMDID_ANS_INDEX) != PP_CMD_EXTENDED_NO_ANSW)
1371:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	{
1372:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		/* HDR */
1373:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		*(PP_MasterProtocolTable[idx].pDataRes+PP_GP_HDR_ANS_INDEX)=0x02;
1374:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1375:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		/* TYP */
1376:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		*(PP_MasterProtocolTable[idx].pDataRes+PP_GP_TYP_ANS_INDEX)=*(PP_MasterProtocolTable[idx].pDataRe
1377:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	}
1378:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1379:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	/* ACK */
1380:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	*(PP_MasterProtocolTable[idx].pDataRes+PP_GP_ACK_ANS_INDEX)=ackval;
1381:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1382:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	/* bridge data len */
1383:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	*((IO_BufferSizeType *)PP_MasterProtocolTable[idx].pDataRes)= (IO_BufferSizeType)(PP_GP_ACK_ANS_IN
1384:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1385:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** }
1386:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #endif
1387:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #endif
1388:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1389:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #if BCP_MASTER_SUPPORT == TRUE
1390:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1391:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** void PP_EncodeDataGPAnsParam(PP_MasterProtocolTableType* pGpReq, IO_BufferSizeType u8Len, uint8_t* 
1392:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
1393:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	IO_BufferSizeType len = u8Len;
1394:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	
1395:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	if(len)
1396:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	{
1397:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	    /* copying: LEN , DATA */
1398:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     	*(pGpReq->pDataRes+(PP_GP_OUT_BUFF_RESERVED_SZ - PP_LEN_SZ)) = (uint8_t)len;
1399:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     	(void)memcpy((pGpReq->pDataRes + PP_GP_OUT_BUFF_RESERVED_SZ ), pData, len);
1400:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1401:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     	/* bridge data len update */
1402:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     	*((IO_BufferSizeType *)pGpReq->pDataRes) += (len + PP_GP_LEN_ANS_INDEX - PP_GP_ACK_ANS_INDEX);
1403:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	}	
1404:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** }
1405:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1406:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #endif
1407:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #if BCP_MASTER_SUPPORT == TRUE
1408:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** void PP_EncodeDataBootAnsParam(IO_ChannelType idx, uint8_t* pData)
1409:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
1410:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1411:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       /* TYP */
1412:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       /*(PP_MasterProtocolTable[idx].pDataRes+PP_GP_TYP_ANS_INDEX)=*(PP_MasterProtocolTable[idx].pD
1413:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1414:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       switch(*(PP_MasterProtocolTable[idx].pDataReq+ PP_GP_TYP_INDEX))
1415:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       {
1416:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       case PP_BOOT_TYPE_ACK:
1417:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       case PP_BOOT_TYPE_QUIT:
1418:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     	  /* LEN */
1419:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     	  *(PP_MasterProtocolTable[idx].pDataRes+PP_GP_LEN_ANS_INDEX)=1;
1420:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   		  /* DATA */
1421:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   		  (void)memcpy((PP_MasterProtocolTable[idx].pDataRes + PP_GP_OUT_BUFF_RESERVED_SZ ), pData, 1);
1422:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     	  break;
1423:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       default:
1424:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     	  /* PP_BOOT_TYPE_WRITE, PP_BOOT_TYPE_ERASE */
1425:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1426:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		  /* LEN */
1427:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		  *(PP_MasterProtocolTable[idx].pDataRes+PP_GP_LEN_ANS_INDEX)=3;
1428:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1429:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		  /* DATA */
1430:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		  (void)memcpy((PP_MasterProtocolTable[idx].pDataRes + PP_GP_OUT_BUFF_RESERVED_SZ), pData, 1);
1431:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		  (void)memcpy((PP_MasterProtocolTable[idx].pDataRes + PP_GP_OUT_BUFF_RESERVED_SZ +1 ), PP_Master
1432:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1433:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       }
1434:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1435:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       /* bridge data len update */
1436:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       *((IO_BufferSizeType *)PP_MasterProtocolTable[idx].pDataRes) += (*(PP_MasterProtocolTable[idx
1437:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** }
1438:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #endif
1439:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1440:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #if BCP_MASTER_SUPPORT == TRUE
1441:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** static void BCP_BootLoaderResponseStateMachine(IO_ChannelType channel)
1442:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
1443:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   BCP_MasterType responce={0};
1444:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   IO_ChannelType idx=MasterPlatformProtocol[channel].indexRequest;
1445:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1446:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   switch(MasterPlatformProtocol[channel].state)
1447:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   {
1448:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     case BOOT_RESPONSE_GET_ACK:
1449:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		responce.callback=BCP_MasterNotify;
1450:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		responce.requestLen=1;
1451:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		responce.option |= (IO_CLOSE|IO_OPT_MASTER);
1452:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1453:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		MasterPlatformProtocol[channel].state = BOOT_END_ACK;
1454:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1455:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		(void)BCP_MasterStartResponce(channel, &responce);
1456:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		break;
1457:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1458:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     case BOOT_RESPONSE_GET_LEN:
1459:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     	responce.callback=BCP_MasterNotify;
1460:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		responce.requestLen=1;
1461:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		responce.option |= (IO_OPT_MASTER);
1462:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1463:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		MasterPlatformProtocol[channel].state = BOOT_GET_DATA;
1464:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1465:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		(void)BCP_MasterStartResponce(channel, &responce);
1466:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     	break;
1467:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1468:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     case BOOT_GET_DATA:
1469:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     	responce.callback=BCP_MasterNotify;
1470:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		responce.requestLen=BCP_ChannelTable[channel].rxBuffer[0];
1471:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		responce.option |= (IO_CLOSE|IO_OPT_MASTER);
1472:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1473:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		MasterPlatformProtocol[channel].state = BOOT_END_DATA;
1474:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1475:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		(void)BCP_MasterStartResponce(channel, &responce);
1476:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     	break;
1477:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1478:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     case BOOT_END_DATA:
1479:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     	MasterPlatformProtocol[channel].state=BOOT_END;
1480:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1481:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		/* copying seq num and CmdId */
1482:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     	(void)memcpy(PP_MasterProtocolTable[idx].pDataRes+PP_OUT_BUFF_RESERVED_SZ, PP_MasterProtocolTa
1483:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1484:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		/* TYP */
1485:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		*(PP_MasterProtocolTable[idx].pDataRes+PP_GP_TYP_ANS_INDEX)=*(PP_MasterProtocolTable[idx].pDataRe
1486:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1487:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1488:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		/* ACK */
1489:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		*(PP_MasterProtocolTable[idx].pDataRes+PP_GP_ACK_ANS_INDEX)=0x5A;
1490:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1491:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		/* bridge data len */
1492:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		*((IO_BufferSizeType *)PP_MasterProtocolTable[idx].pDataRes)= (IO_BufferSizeType)(PP_GP_ACK_ANS_I
1493:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1494:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		/* HDR */
1495:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		*(PP_MasterProtocolTable[idx].pDataRes+PP_GP_HDR_ANS_INDEX)=0x02;
1496:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1497:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1498:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		/* LEN */
1499:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		*(PP_MasterProtocolTable[idx].pDataRes+PP_GP_LEN_ANS_INDEX)=MasterPlatformProtocol[channel].lastR
1500:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1501:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		/* DATA */
1502:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		(void)memcpy((PP_MasterProtocolTable[idx].pDataRes + PP_GP_OUT_BUFF_RESERVED_SZ ), &BCP_ChannelTa
1503:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1504:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		/* bridge data len update */
1505:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		*((IO_BufferSizeType *)PP_MasterProtocolTable[idx].pDataRes) += (MasterPlatformProtocol[channel].
1506:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1507:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		MasterPlatformProtocol[channel].error=IO_E_OK;
1508:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1509:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     	break;
1510:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1511:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     case BOOT_END_ACK:
1512:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1513:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         PP_EncodeHdrGPAnsParam((PP_MasterProtocolTableType *) &PP_MasterProtocolTable[idx], (uint8_
1514:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     	PP_EncodeDataBootAnsParam(idx, &BCP_ChannelTable[channel].rxBuffer[PP_ACK_POS]);
1515:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1516:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       MasterPlatformProtocol[channel].state=BOOT_END;
1517:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1518:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       MasterPlatformProtocol[channel].error=IO_E_OK;
1519:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     break;
1520:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1521:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     case BOOT_END:
1522:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     default:
1523:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     break;
1524:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   }
1525:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1526:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1527:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** }
1528:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #endif
1529:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1530:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1531:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /**
1532:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1533:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** Macchina a stati di ricezione Master.
1534:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1535:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \param [in]  channel Indice del canale di comunicazione
1536:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \param [in]  error Codice errore della notifica
1537:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1538:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \warning
1539:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1540:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \note
1541:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1542:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \version		1.0.0
1543:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \date 			15/04/2009
1544:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \author			Roberto Fioravanti
1545:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** */
1546:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #if BCP_MASTER_SUPPORT == TRUE
1547:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** static void BCP_MasterResponseStateMachine(IO_ChannelType channel, IO_ErrorType error)
1548:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
1549:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   BCP_MasterType responce={0};
1550:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   IO_ChannelType idx=MasterPlatformProtocol[channel].indexRequest;
1551:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   (void) error;
1552:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1553:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   switch(MasterPlatformProtocol[channel].state)
1554:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   {
1555:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     case PP_RESPONSE_GET_ACK:
1556:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1557:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       responce.callback=BCP_MasterNotify;
1558:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       responce.requestLen=1;
1559:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1560:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       switch(PP_MasterProtocolTable[idx].paramType) {
1561:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #if defined(CP_GENERAL_PURPOSE)
1562:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         case PPM_REQPARAMTYPE_GP:
1563:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           MasterPlatformProtocol[channel].state++;
1564:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           switch(PP_CMD_ID_FROM_GP_PARAM(PP_MasterProtocolTable[idx].pDataReq))
1565:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           {
1566:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1567:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****             case PP_CMD_EXTENDED_NO_ANSW:
1568:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****               responce.option |= (IO_CLOSE|IO_OPT_MASTER);
1569:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****               MasterPlatformProtocol[channel].state=PP_RESPONSE_PROCESS;
1570:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****               break;
1571:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1572:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****             case PP_CMD_BASIC:
1573:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1574:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****               if((*(BCP_ChannelTable[channel].txBuffer+PP_BS_TYP_INDEX) & PP_BS_TYPE_MSK) != PP_BS_
1575:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****               {
1576:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                 responce.option |= (IO_CLOSE|IO_OPT_MASTER);
1577:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                 MasterPlatformProtocol[channel].state=PP_RESPONSE_PROCESS;
1578:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****               }
1579:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1580:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****               break;
1581:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1582:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****             default:
1583:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****             case PP_CMD_EXTENDED_WITH_ANSW:
1584:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****             break;
1585:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           }
1586:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         break;
1587:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #endif
1588:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         case PPM_REQPARAMTYPE_EXTENDED:
1589:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           if(0 == (PP_MasterProtocolTable[idx].option & PPM_OPTION_GETDATA))
1590:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           {
1591:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****             responce.option |= (IO_CLOSE|IO_OPT_MASTER);
1592:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           }
1593:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           MasterPlatformProtocol[channel].state++;
1594:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         break;
1595:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1596:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       }
1597:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       (void)BCP_MasterStartResponce(channel,&responce);
1598:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     break;
1599:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1600:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     case PP_RESPONSE_GET_HDR:
1601:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1602:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       /*ACK analysis */
1603:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       if(BCP_ChannelTable[channel].rxBuffer[0] != PP_ACK)
1604:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       {
1605:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         /* */
1606:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1607:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         BCM_CountersUpdater(channel, BCP_PP_ACK_MISSING_ERR_CNT);
1608:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1609:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         if((PP_MasterProtocolTable[idx].option & PPM_OPTION_GETDATA) ||
1610:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****          (PP_CMD_ID_FROM_GP_PARAM(PP_MasterProtocolTable[idx].pDataReq) == PP_CMD_EXTENDED_WITH_ANS
1611:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         {
1612:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           responce.option|=IO_CLOSE;
1613:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           responce.requestLen = 1;
1614:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         }
1615:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1616:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         (void)BCP_MasterStartResponce(channel,&responce);
1617:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         switch(PP_MasterProtocolTable[idx].paramType)
1618:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         {
1619:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #if defined(CP_GENERAL_PURPOSE)
1620:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           case PPM_REQPARAMTYPE_GP:
1621:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****             MasterPlatformProtocol[channel].state=PP_RESPONSE_PROCESS;
1622:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           break;
1623:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #endif
1624:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           default:
1625:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		  	MasterPlatformProtocol[channel].error = (IO_ErrorType)IO_E_ACK_PP;
1626:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****             MasterPlatformProtocol[channel].state=PP_END;
1627:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         }
1628:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1629:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         break;
1630:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       }
1631:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1632:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1633:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       switch(PP_MasterProtocolTable[idx].paramType) {
1634:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #if defined(CP_GENERAL_PURPOSE)
1635:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         case PPM_REQPARAMTYPE_GP:
1636:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           switch(PP_CMD_ID_FROM_GP_PARAM(PP_MasterProtocolTable[idx].pDataReq))
1637:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           {
1638:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****             case PP_CMD_EXTENDED_WITH_ANSW:
1639:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****               {
1640:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                 responce.callback=BCP_MasterNotify;
1641:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                 responce.requestLen=PP_LEN_INDEX+1;
1642:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1643:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                 MasterPlatformProtocol[channel].state++;
1644:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                 (void)BCP_MasterStartResponce(channel,&responce);
1645:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****               }
1646:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****               break;
1647:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1648:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****             case PP_CMD_BASIC:
1649:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                 /* TODO: in base al pacchetto */
1650:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1651:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                 responce.callback=BCP_MasterNotify;
1652:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                 responce.requestLen=PP_BS_LEN_ANS_INDEX+1;
1653:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1654:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                 MasterPlatformProtocol[channel].state++;
1655:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****                 (void)BCP_MasterStartResponce(channel,&responce);
1656:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****               break;
1657:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****             case PP_CMD_EXTENDED_NO_ANSW:
1658:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****               BCM_CountersUpdater(channel, BCP_PACKET_NUM_NOERR_CNT);
1659:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****               break;
1660:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           }
1661:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         break;
1662:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #endif
1663:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         case PPM_REQPARAMTYPE_EXTENDED:
1664:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           /*TODO: forse l'if non serve */
1665:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           if((PP_MasterProtocolTable[idx].option & PPM_OPTION_GETDATA))
1666:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           {
1667:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****             responce.callback=BCP_MasterNotify;
1668:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****             responce.requestLen=PP_LEN_INDEX+1;
1669:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1670:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****             MasterPlatformProtocol[channel].state++;
1671:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****             (void)BCP_MasterStartResponce(channel,&responce);
1672:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           }
1673:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           else
1674:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       		{
1675:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         	  MasterPlatformProtocol[channel].error = (IO_ErrorType)IO_E_OK;
1676:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       			/* TODO delete PP_Ntwk[MasterPlatformProtocol[channel].chBoard].esit = (IO_ErrorType)IO_E_
1677:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       		}
1678:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         break;
1679:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1680:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       }
1681:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1682:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1683:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     break;
1684:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1685:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     case PP_RESPONSE_COMPLETION:
1686:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1687:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       if(BCP_ChannelTable[channel].rxBuffer[PP_FTYP_INDEX+PP_ACK_SZ]==PP_FTYP_EE)
1688:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       {
1689:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         responce.requestLen = BCP_ChannelTable[channel].rxBuffer[PP_LEN_INDEX+PP_ACK_SZ];
1690:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1691:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         if(!BCP_ChannelTable[channel].rxBuffer[PP_LEN_INDEX+PP_ACK_SZ])
1692:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         {
1693:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           responce.requestLen = 0x100;
1694:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         }
1695:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1696:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         responce.requestLen +=((BCP_ChannelTable[channel].txBuffer[PP_HDR_INDEX+PP_ACK_SZ] & PP_HDR
1697:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       } else
1698:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       {
1699:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         responce.requestLen = (BCP_ChannelTable[channel].rxBuffer[PP_BS_LEN_ANS_INDEX+PP_ACK_SZ]);
1700:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1701:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         if(!BCP_ChannelTable[channel].rxBuffer[PP_BS_LEN_ANS_INDEX+PP_ACK_SZ])
1702:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         {
1703:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           responce.requestLen = 0x100;
1704:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         }
1705:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1706:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         responce.requestLen++; /* chk */
1707:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       }
1708:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1709:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       responce.callback=BCP_MasterNotify;
1710:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       responce.option|=IO_CLOSE;
1711:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1712:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       (void)BCP_MasterStartResponce(channel,&responce);
1713:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1714:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       MasterPlatformProtocol[channel].state++;
1715:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     break;
1716:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1717:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     case PP_RESPONSE_PROCESS:
1718:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1719:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       MasterPlatformProtocol[channel].state++;
1720:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       MasterPlatformProtocol[channel].error = (IO_ErrorType)IO_E_OK;
1721:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       PP_OnMasterRxCompleted(channel);
1722:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     break;
1723:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     
1724:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     
1725:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     
1726:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     case PP_END:
1727:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     default:
1728:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     ;
1729:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   }
1730:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** }
1731:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1732:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** void PP_SetMasterError(IO_ChannelType ch, IO_ErrorType error)
1733:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
1734:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	MasterPlatformProtocol[ch].error = error;
1735:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** }
1736:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #endif /* BCP_MASTER_SUPPORT == TRUE */
1737:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1738:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1739:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /**
1740:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \todo commentare
1741:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** */
1742:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #if BCP_MASTER_SUPPORT == TRUE
1743:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** IO_BufferSizeType  BCP_MasterBuilder (IO_BufferType txBuffer, PP_MasterProtocolTableType info)
1744:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
1745:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1746:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   IO_BufferSizeType packetLen;
1747:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1748:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   /* dati da copiare */
1749:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   IO_BufferType      pData=0;
1750:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   IO_BufferSizeType  len=0;
1751:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   IO_BufferSizeType  s_index=0, d_index=0;
1752:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   IO_BufferSizeType  ed_index=0;
1753:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1754:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1755:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   switch(info.paramType)
1756:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   {
1757:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     case PPM_REQPARAMTYPE_BOOT:
1758:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       len=PP_LEN_FROM_GP_PARAM(info.pDataReq);
1759:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       pData=PP_PDATA_FROM_GP_PARAM(info.pDataReq);
1760:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       packetLen=(IO_BufferSizeType)len;
1761:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     break;
1762:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1763:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1764:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #if defined(CP_GENERAL_PURPOSE)
1765:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     case PPM_REQPARAMTYPE_GP:
1766:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       switch(PP_CMD_ID_FROM_GP_PARAM(info.pDataReq))
1767:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       {
1768:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         case PP_CMD_EXTENDED_WITH_ANSW:
1769:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         case PP_CMD_EXTENDED_NO_ANSW:
1770:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           *(txBuffer + PP_STX_INDEX) = PP_STX;
1771:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           *(txBuffer + PP_FTYP_INDEX) = PP_FTYP_EE;
1772:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           *(txBuffer + PP_HDR_INDEX) = PP_HDR_FROM_GP_PARAM(info.pDataReq);
1773:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           *(txBuffer + PP_DTYP_INDEX) = PP_TYPE_FROM_GP_PARAM(info.pDataReq);
1774:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           *(txBuffer + PP_LEN_INDEX) = PP_LEN_FROM_GP_PARAM(info.pDataReq);
1775:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1776:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           len=*(txBuffer + PP_LEN_INDEX);
1777:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           pData=PP_PDATA_FROM_GP_PARAM(info.pDataReq);
1778:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           s_index=0;
1779:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           d_index=PP_DAT_INDEX;
1780:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           packetLen=(IO_BufferSizeType)(PP_LEN_INDEX+1+*(txBuffer + PP_LEN_INDEX)+((*(txBuffer + PP
1781:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           ed_index= PP_LEN_INDEX+1+*(txBuffer + PP_LEN_INDEX);
1782:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1783:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           break;
1784:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1785:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1786:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         case PP_CMD_BASIC:
1787:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           *(txBuffer + PP_STX_INDEX) = PP_STX;
1788:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           *(txBuffer + PP_BS_TYP_INDEX) = PP_BS_TYPE_FROM_GP_PARAM(info.pDataReq);
1789:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           pData =PP_BS_PDATA_FROM_GP_PARAM(info.pDataReq);
1790:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           len=3;
1791:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           s_index=0;
1792:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           d_index=2;
1793:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           packetLen=6;
1794:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           ed_index=5;
1795:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           break;
1796:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       }
1797:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     break;
1798:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #endif
1799:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1800:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #if defined(INDESIT_PARAM_EXTENDED)
1801:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     case PPM_REQPARAMTYPE_EXTENDED:
1802:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       *(txBuffer + PP_STX_INDEX) = PP_STX;
1803:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       *(txBuffer + PP_FTYP_INDEX) = PP_FTYP_EE;
1804:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       *(txBuffer + PP_HDR_INDEX) = (info.option&PPM_OPTION_CRC)?PP_HDR_CRC:PP_HDR_CHK;
1805:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       *(txBuffer + PP_DTYP_INDEX) = info.code;
1806:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       *(txBuffer + PP_LEN_INDEX) = (uint8_t) (*info.pLenReq);
1807:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       pData=info.pDataReq;
1808:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       len=*info.pLenReq;
1809:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       d_index=PP_DAT_INDEX;
1810:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       s_index=0;
1811:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       packetLen=(IO_BufferSizeType)(PP_LEN_INDEX+1+*info.pLenReq+((info.option&PPM_OPTION_CRC)?2:1)
1812:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       ed_index= PP_LEN_INDEX+1+*(txBuffer + PP_LEN_INDEX);
1813:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     break;
1814:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #endif
1815:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   }
1816:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1817:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   if(info.pDataReq)
1818:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   {
1819:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	  (void)memcpy((txBuffer + d_index), pData+s_index, len);
1820:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   }
1821:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   else
1822:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   {
1823:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	  (void)memset(txBuffer + d_index, 0, len);
1824:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   }
1825:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1826:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   /* calculate crc or chk */
1827:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   if(*(txBuffer + PP_STX_INDEX) == PP_STX)
1828:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   {
1829:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     if((*(txBuffer + PP_FTYP_INDEX) == PP_FTYP_EE) && (*(txBuffer + PP_HDR_INDEX) & PP_HDR_CRC)/*in
1830:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     {
1831:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       crc_append(ed_index,txBuffer);
1832:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     } else
1833:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     {
1834:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       chk_append(ed_index,txBuffer);
1835:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     }
1836:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   }
1837:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1838:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   return packetLen;
1839:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** }
1840:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #endif /* BCP_MASTER_SUPPORT == TRUE */
1841:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1842:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /* Local Function */
1843:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** static void PP_SlaveFragmentBuilder(IO_ChannelType ch, uint8_t chk_displ, uint8_t data_displ)
1844:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
   9                             		.loc 1 1844 0
  10                             	.LVL0:
  11 0000 6E 7C                   		pushm	r7-r12
  12                             	.LCFI0:
1845:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		IO_BufferSizeType aval, data_len, data;
1846:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		bool_t empty=FALSE;
1847:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		data=PP_SlavePlatformProtocol[ch].dataCount;
  13                             		.loc 1 1847 0
  14 0002 5B 17                   		movu.B	r1, r7
  15 0004 FD C4 7B                		shll	#4, r7, r11
  16 0007 70 BB 00 00 00 00       		add	#_PP_SlavePlatformProtocol, r11
  17 000d DD B4 02                		mov.W	4[r11], r4
  18                             	.LVL1:
1844:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
  19                             		.loc 1 1844 0
  20 0010 CF 2A                   		mov.B	r2, r10
1848:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1849:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		if(!PP_SlavePlatformProtocol[ch].dataCount)
  21                             		.loc 1 1849 0
  22 0012 5F 4B                   		movu.W	r4, r11
  23 0014 61 0B                   		cmp	#0, r11
  24 0016 20 06                   		beq	.L9
1846:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		bool_t empty=FALSE;
  25                             		.loc 1 1846 0
  26 0018 66 0B                   		mov.L	#0, r11
  27 001a 2E 06                   		bra	.L2
  28                             	.L9:
1850:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		{
1851:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			empty=TRUE;
  29                             		.loc 1 1851 0
  30 001c 66 1B                   		mov.L	#1, r11
1852:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			data=1; 				/* overwriting */
  31                             		.loc 1 1852 0
  32 001e DF B4                   		mov.W	r11, r4
  33                             	.LVL2:
  34                             		.balign 2,3,1
  35                             	.L2:
1853:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		}
1854:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1855:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		/*numero di locazioni disponibili per i dati : size - ack - hdr - len - crc(=2). */
1856:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		aval = (uint16_t) (BCP_ChannelTable[ch].txBufferSize - (PP_SlavePlatformProtocol[ch].answerCount 
  36                             		.loc 1 1856 0
  37 0020 EF 7C                   		mov.L	r7, r12
  38 0022 75 1C 1C                		mul	#28, r12
  39 0025 70 CC 00 00 00 00       		add	#_BCP_ChannelTable, r12
  40 002b DD CC 0C                		mov.W	24[r12], r12
  41 002e FD C4 7E                		shll	#4, r7, r14
  42 0031 70 EE 00 00 00 00       		add	#_PP_SlavePlatformProtocol, r14
  43 0037 60 2C                   		sub	#2, r12
  44 0039 06 41 EC 04             		sub	8[r14].W, r12
  45 003d 5B AE                   		movu.B	r10, r14
  46 003f 43 EC                   		sub	r14, r12
1857:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		data_len = (uint16_t) ((data < aval) ? data : aval);
  47                             		.loc 1 1857 0
  48 0041 5F 42                   		movu.W	r4, r2
  49                             	.LVL3:
  50 0043 5F CE                   		movu.W	r12, r14
  51 0045 47 E2                   		cmp	r14, r2
  52 0047 25 05                   		bleu	.L3
  53 0049 DF C4                   		mov.W	r12, r4
  54                             	.LVL4:
  55 004b 03                      		.balign 2,3,2
  56                             	.L3:
1858:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1859:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		PP_SlavePlatformProtocol[ch].dataCountLast =	data_len;
  57                             		.loc 1 1859 0
  58 004c FD C4 7C                		shll	#4, r7, r12
  59 004f 70 CC 00 00 00 00       		add	#_PP_SlavePlatformProtocol, r12
1860:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		if(PP_SlavePlatformProtocol[ch].dataCount)
  60                             		.loc 1 1860 0
  61 0055 DD CE 02                		mov.W	4[r12], r14
1859:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		PP_SlavePlatformProtocol[ch].dataCountLast =	data_len;
  62                             		.loc 1 1859 0
  63 0058 D7 C4 03                		mov.W	r4, 6[r12]
  64                             		.loc 1 1860 0
  65 005b 5F E2                   		movu.W	r14, r2
  66                             	.LVL5:
  67 005d 61 02                   		cmp	#0, r2
  68 005f 20 07                   		beq	.L4
1861:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		{
1862:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			PP_SlavePlatformProtocol[ch].dataCount -= data_len;
  69                             		.loc 1 1862 0
  70 0061 43 4E                   		sub	r4, r14
  71 0063 D7 CE 02                		mov.W	r14, 4[r12]
  72                             		.balign 2,3,1
  73                             	.L4:
1863:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		}
1864:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1865:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		(void)memcpy(&BCP_ChannelTable[ch].txBuffer[data_displ], PP_SlavePlatformProtocol[ch].pdata,  dat
  74                             		.loc 1 1865 0
  75 0066 EF 7C                   		mov.L	r7, r12
  76 0068 FD C4 7E                		shll	#4, r7, r14
  77 006b 75 1C 1C                		mul	#28, r12
  78 006e 70 CC 00 00 00 00       		add	#_BCP_ChannelTable, r12
  79 0074 70 EE 00 00 00 00       		add	#_PP_SlavePlatformProtocol, r14
  80 007a ED C5 04                		mov.L	16[r12], r5
  81 007d EC EF                   		mov.L	[r14], r15
  82 007f 5F 4C                   		movu.W	r4, r12
  83 0081 5B 31                   		movu.B	r3, r1
  84                             	.LVL6:
  85 0083 4B 51                   		add	r5, r1
  86 0085 EF F2                   		mov.L	r15, r2
  87 0087 EF C3                   		mov.L	r12, r3
  88                             	.LVL7:
  89 0089 7F 8F                   		smovf
1866:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		PP_SlavePlatformProtocol[ch].pdata+=data_len;
1867:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		PP_SlavePlatformProtocol[ch].answerCount+=data_len;
  90                             		.loc 1 1867 0
  91 008b DD E1 04                		mov.W	8[r14], r1
1866:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		PP_SlavePlatformProtocol[ch].pdata+=data_len;
  92                             		.loc 1 1866 0
  93 008e 4B FC                   		add	r15, r12
  94                             		.loc 1 1867 0
  95 0090 4B 41                   		add	r4, r1
1866:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		PP_SlavePlatformProtocol[ch].pdata+=data_len;
  96                             		.loc 1 1866 0
  97 0092 E3 EC                   		mov.L	r12, [r14]
  98                             		.loc 1 1867 0
  99 0094 D7 E1 04                		mov.W	r1, 8[r14]
 100 0097 71 EC 08                		add	#8, r14, r12
 101 009a 5B A2                   		movu.B	r10, r2
1868:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1869:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		/* hdr test to choose between chk or crc */
1870:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     /*TODO: testare rxBuffer o txBuffer a seconda della condivisione del buffer */
1871:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     if(PP_SlavePlatformProtocol[ch].option&1)
 102                             		.loc 1 1871 0
 103 009c CD EE 0D                		mov.B	13[r14], r14
1872:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     {
1873:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     	/* packet check */
1874:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     	PP_SlavePlatformProtocol[ch].crc = BCP_CRC_calculate (PP_SlavePlatformProtocol[ch].answerCount
 104                             		.loc 1 1874 0
 105 009f 4B 52                   		add	r5, r2
1871:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     if(PP_SlavePlatformProtocol[ch].option&1)
 106                             		.loc 1 1871 0
 107 00a1 FD 74 CE 01             		tst	#1, r14
 108 00a5 DD C3 01                		mov.W	2[r12], r3
 109 00a8 20 08                   		beq	.L5
 110                             		.loc 1 1874 0
 111 00aa 05 00 00 00             		bsr	_OCCRC_Calculate
 112                             	.LVL8:
 113 00ae 2E 06                   		bra	.L17
 114                             	.LVL9:
 115                             	.L5:
1875:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     }
1876:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     else
1877:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     {
1878:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     	/* packet check */
1879:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     	PP_SlavePlatformProtocol[ch].crc = LIB_ChkComputation ((uint16_t)PP_SlavePlatformProtocol[ch].
 116                             		.loc 1 1879 0
 117 00b0 05 00 00 00             		bsr	_LIB_ChkComputation
 118                             	.LVL10:
 119                             		.balign 2,3,2
 120                             	.L17:
1880:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     }
1881:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1882:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		if(!PP_SlavePlatformProtocol[ch].dataCount && (empty==FALSE))
 121                             		.loc 1 1882 0
 122 00b4 FD C4 7E                		shll	#4, r7, r14
 123 00b7 70 EE 00 00 00 00       		add	#_PP_SlavePlatformProtocol, r14
1879:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     	PP_SlavePlatformProtocol[ch].crc = LIB_ChkComputation ((uint16_t)PP_SlavePlatformProtocol[ch].
 124                             		.loc 1 1879 0
 125 00bd D7 C1 01                		mov.W	r1, 2[r12]
 126                             		.loc 1 1882 0
 127 00c0 5D EC 02                		movu.W	4[r14], r12
 128 00c3 61 0C                   		cmp	#0, r12
 129 00c5 21 5B                   		bne	.L1
 130                             		.loc 1 1882 0 is_stmt 0 discriminator 1
 131 00c7 61 0B                   		cmp	#0, r11
 132 00c9 21 57                   		bne	.L1
1883:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		{
1884:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			if(PP_SlavePlatformProtocol[ch].option&1)
 133                             		.loc 1 1884 0 is_stmt 1
 134 00cb CD EB 0D                		mov.B	13[r14], r11
 135                             	.LVL11:
 136 00ce FD 74 CB 01             		tst	#1, r11
 137 00d2 20 26                   		beq	.L8
1885:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			{
1886:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 				BCP_ChannelTable[ch].txBuffer[chk_displ+PP_SlavePlatformProtocol[ch].answerCount++] = (uint8_t)
 138                             		.loc 1 1886 0
 139 00d4 EF 73                   		mov.L	r7, r3
 140 00d6 75 13 1C                		mul	#28, r3
 141 00d9 70 33 00 00 00 00       		add	#_BCP_ChannelTable, r3
 142 00df 5B A4                   		movu.B	r10, r4
 143 00e1 DD EB 04                		mov.W	8[r14], r11
 144 00e4 06 89 34 04             		add	16[r3].L, r4
 145 00e8 5D E3 05                		movu.W	10[r14], r3
 146 00eb 5F BC                   		movu.W	r11, r12
 147 00ed 68 83                   		shlr	#8, r3
 148 00ef 62 1B                   		add	#1, r11
 149 00f1 FE 0C 43                		mov.B	r3, [r12,r4]
 150 00f4 D7 EB 04                		mov.W	r11, 8[r14]
 151 00f7 03                      		.balign 2,3,2
 152                             	.L8:
1887:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			}
1888:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1889:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			BCP_ChannelTable[ch].txBuffer[chk_displ+PP_SlavePlatformProtocol[ch].answerCount++] = (uint8_t)P
 153                             		.loc 1 1889 0
 154 00f8 FD C4 7B                		shll	#4, r7, r11
 155 00fb 70 BB 00 00 00 00       		add	#_PP_SlavePlatformProtocol, r11
 156 0101 75 17 1C                		mul	#28, r7
 157                             	.LVL12:
 158 0104 DD BC 04                		mov.W	8[r11], r12
 159 0107 70 77 00 00 00 00       		add	#_BCP_ChannelTable, r7
 160 010d 5B AA                   		movu.B	r10, r10
 161 010f 06 89 7A 04             		add	16[r7].L, r10
 162                             	.LVL13:
 163 0113 DD B7 05                		mov.W	10[r11], r7
 164 0116 5F CE                   		movu.W	r12, r14
 165 0118 62 1C                   		add	#1, r12
 166 011a FE 0E A7                		mov.B	r7, [r14,r10]
 167 011d D7 BC 04                		mov.W	r12, 8[r11]
 168                             		.balign 2,3,2
 169                             	.L1:
1890:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		}
1891:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** }
 170                             		.loc 1 1891 0
 171 0120 3F 7C 06                		rtsd	#24, r7-r12
 172                             	.LFE5:
 174 0123 03                      		.section	.text.PP_SlaveReceiveData.isra.0,"ax",@progbits
 176                             	_PP_SlaveReceiveData.isra.0:
 177                             	.LFB13:
1892:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1893:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /**
1894:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** Builder slave.
1895:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1896:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \param [in]   ch
1897:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** canale
1898:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \param [in]   info
1899:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** parametri
1900:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1901:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \return BCP_BufferSizeType dimensione in byte
1902:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \warning
1903:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \note
1904:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \version		1.0.0
1905:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \date 			10/04/2009
1906:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \author			Roberto Fioravanti
1907:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \private \memberof PP_SlavePlatformProtocolClassType
1908:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** */
1909:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** void  PP_SlaveResponseBuilder (IO_ChannelType ch, PP_SlaveBuilderInfoType info)
1910:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
1911:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     uint8_t cpy_len, displ, displ_len;
1912:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1913:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     /* ack */
1914:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	PP_SlavePlatformProtocol[ch].dataCount=info.len;	/* init data */
1915:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	PP_SlavePlatformProtocol[ch].pdata=info.address;	/* init address */
1916:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1917:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     PP_SlavePlatformProtocol[ch].answerCount=0;				/* init answerCount */
1918:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	PP_SlavePlatformProtocol[ch].option=0;						/* init chk mode */
1919:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	PP_SlavePlatformProtocol[ch].crc=0;						/* init chk val */
1920:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1921:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1922:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     /* answer building */
1923:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     if((info.option & PP_SL_RESP_ANSW_OPT) && (info.error == (IO_ErrorType)IO_E_OK))
1924:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     {
1925:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 				/* hdr test: choose between chk or crc */
1926:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		if((BCP_ChannelTable[ch].rxBuffer[PP_HDR_INDEX]&PP_HDR_CRC) && (BCP_ChannelTable[ch].rxBuffer[PP_
1927:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		{
1928:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			PP_SlavePlatformProtocol[ch].option |= 1;
1929:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			PP_SlavePlatformProtocol[ch].crc=0xFFFF;
1930:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		}
1931:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1932:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         if(BCP_ChannelTable[ch].rxBuffer[PP_FTYP_INDEX] == PP_FTYP_EE)
1933:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         {
1934:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           cpy_len=4;
1935:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           displ_len=(uint8_t)((uint8_t)PP_ACK_SZ+(uint8_t)PP_LEN_INDEX);
1936:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           displ=(uint8_t)((uint8_t)PP_ACK_SZ+(uint8_t)PP_DAT_INDEX);
1937:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1938:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         } else
1939:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         {
1940:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           cpy_len=2;
1941:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           displ_len=(uint8_t)PP_ACK_SZ+(uint8_t)PP_BS_LEN_ANS_INDEX;
1942:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           displ=(uint8_t)PP_ACK_SZ+(uint8_t)PP_BS_DAT_ANS_INDEX;
1943:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         }
1944:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #ifdef BCP_FRAGMENT_SLAVE
1945:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		/* header copy */
1946:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         LIB_MemcpyFromLast(&BCP_ChannelTable[ch].txBuffer[PP_ACK_SZ], BCP_ChannelTable[ch].rxBuffer
1947:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1948:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		/* len */
1949:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         BCP_ChannelTable[ch].txBuffer[displ_len]=(uint8_t)info.len;
1950:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1951:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         PP_SlavePlatformProtocol[ch].answerCount+=cpy_len+PP_LEN_SZ; /* chk not counted */
1952:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1953:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		PP_SlaveFragmentBuilder(ch, PP_ACK_SZ, (uint8_t)(PP_SlavePlatformProtocol[ch].answerCount+1));
1954:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1955:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #else	/* #ifdef BCP_FRAGMENT_SLAVE */
1956:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		/* use all the space */
1957:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		if(info.len + PP_SlavePlatformProtocol[ch].answerCount + 2 +PP_LEN_SZ > BCP_ChannelTable[ch].txBu
1958:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         {
1959:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			/* removes header(ack - a5 - ee - hdr - type - len) and crc*/
1960:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			info.len= (BCP_PacketSizeType) (BCP_ChannelTable[ch].txBufferSize-PP_SlavePlatformProtocol[ch].a
1961:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         }
1962:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1963:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         if(PP_SlavePlatformProtocol[ch].dataCount)
1964:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		{
1965:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			PP_SlavePlatformProtocol[ch].dataCount -= info.len;
1966:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		}
1967:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		
1968:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		PP_SlavePlatformProtocol[ch].answerCount+=cpy_len+PP_LEN_SZ; /* chk not counted */
1969:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1970:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         /* header copy */
1971:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		LIB_MemcpyFromLast(&BCP_ChannelTable[ch].txBuffer[PP_ACK_SZ], BCP_ChannelTable[ch].rxBuffer,  cpy
1972:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1973:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         /* len */
1974:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         BCP_ChannelTable[ch].txBuffer[displ_len] = (uint8_t) info.len;
1975:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         PP_SlavePlatformProtocol[ch].answerCount += info.len;
1976:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1977:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 				/* data copy */
1978:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         (void) memcpy(&BCP_ChannelTable[ch].txBuffer[displ], info.address,  info.len);
1979:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1980:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		/* hdr test to choose between chk or crc */
1981:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		/*TODO: testare rxBuffer o txBuffer a seconda della condivisione del buffer */
1982:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		if((BCP_ChannelTable[ch].rxBuffer[PP_HDR_INDEX+1]&PP_HDR_CRC) && (BCP_ChannelTable[ch].rxBuffer[P
1983:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		{
1984:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		  /* packet check */
1985:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		  crc_append(PP_SlavePlatformProtocol[ch].answerCount, &BCP_ChannelTable[ch].txBuffer[PP_ACK_SZ])
1986:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		  PP_SlavePlatformProtocol[ch].answerCount+=2;
1987:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		}
1988:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		else
1989:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		{
1990:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		  /* packet check */
1991:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		  chk_append(PP_SlavePlatformProtocol[ch].answerCount, &BCP_ChannelTable[ch].txBuffer[PP_ACK_SZ])
1992:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		  PP_SlavePlatformProtocol[ch].answerCount+=1;
1993:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		}
1994:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
1995:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		if(info.callback != 0)
1996:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		{
1997:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			(info.callback)();
1998:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		}
1999:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****  #endif   /* #ifdef BCP_FRAGMENT_SLAVE */
2000:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   }
2001:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2002:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   BCP_ChannelTable[ch].txBuffer[0] = (uint8_t) ((info.error == (IO_ErrorType)IO_E_OK) ? PP_ACK : PP
2003:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   PP_SlavePlatformProtocol[ch].answerCount+=1;
2004:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** }
2005:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2006:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2007:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2008:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2009:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2010:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2011:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2012:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #if defined(CP_TYP8_16_SLAVE_PP_STATE_MACHINE)
2013:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** static IO_ErrorType PP_CmdExe(PP_ParserType* pCmd, IO_ChannelType channel)
2014:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
2015:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   IO_ErrorType error = (IO_ErrorType)IO_E_BUSY;
2016:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   BCP_OptionType option=0;
2017:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   switch( pCmd->fields.cmd)
2018:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   {
2019:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     case PP_READ_CMD:
2020:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     {
2021:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       BCP_PacketSizeType Len = pCmd->fields.par1;
2022:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       (void)PP_SlaveReceiveData(channel, &Len, (BCP_OptionType)(pCmd->fields.par2));
2023:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       PP_len=0;
2024:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       error = (IO_ErrorType)IO_E_WORKING;
2025:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2026:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       if(pCmd->fields.par3)
2027:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       {
2028:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         /* manage the goto */
2029:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         PP_SlavePlatformProtocol[channel].state=pCmd->fields.par3;
2030:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       }
2031:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     }
2032:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     break;
2033:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     case PP_AND_CMD:
2034:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       if(BCP_ChannelTable[channel].rxBuffer[pCmd->fields.par1] & (uint8_t)pCmd->fields.par2)
2035:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       {
2036:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         /* manage the goto */
2037:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         PP_SlavePlatformProtocol[channel].state=pCmd->fields.par3;
2038:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       }
2039:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     break;
2040:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2041:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     case PP_NO_MATCH_CMD:
2042:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       if(BCP_ChannelTable[channel].rxBuffer[pCmd->fields.par1] != pCmd->fields.par2)
2043:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       {
2044:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         /* manage the goto */
2045:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         PP_SlavePlatformProtocol[channel].state=pCmd->fields.par3;
2046:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       }
2047:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     break;
2048:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     case PP_MODLEN_CMD:
2049:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       if(BCP_ChannelTable[channel].rxBuffer[pCmd->fields.par1] & pCmd->fields.par2)
2050:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       {
2051:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         /* manage the goto */
2052:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         PP_len+=pCmd->fields.par3;
2053:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       }
2054:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     break;
2055:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     case PP_SETLEN_CMD:
2056:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       PP_len+=BCP_ChannelTable[channel].rxBuffer[pCmd->fields.par1];
2057:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       if(pCmd->fields.par3)
2058:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       {
2059:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         /* manage the goto */
2060:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         PP_SlavePlatformProtocol[channel].state=pCmd->fields.par3;
2061:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       }
2062:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     break;
2063:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2064:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     case PP_READ_ALL_CMD:
2065:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     {
2066:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		option=IO_CLOSE;
2067:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		(void)PP_SlaveReceiveData(channel, &PP_len, option);
2068:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		error = (IO_ErrorType)IO_E_WORKING;
2069:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     }
2070:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     break;
2071:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2072:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     case PP_CHK_CHECK_CMD:
2073:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     {
2074:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****      	uint16_t crc;
2075:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2076:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       crc = LIB_ChkComputation((uint16_t)PP_SlavePlatformProtocol[channel].dataCount-1, BCP_Channel
2077:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       crc &= (uint16_t)0x00FF;
2078:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       crc ^= BCP_ChannelTable[channel].rxBuffer[PP_SlavePlatformProtocol[channel].dataCount-1];
2079:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2080:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       if(crc == (uint16_t)0)
2081:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       {
2082:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         /* ok!!! */
2083:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         BCM_CountersUpdater(channel, BCP_PACKET_NUM_NOERR_CNT);
2084:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         PP_SlavePlatformProtocol[channel].state=PP_SLAVE_RX_OK;
2085:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	  		error = (IO_ErrorType)IO_E_OK;
2086:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       } else
2087:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       {
2088:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         	BCM_CountersUpdater(channel, BCP_PP_CORRUPTED_PKT_ERR_CNT);
2089:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 					error = (IO_ErrorType)IO_E_CHECK_PP;
2090:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       }
2091:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     }
2092:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     break;
2093:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2094:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     case PP_CRC_CHECK_CMD:
2095:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     {
2096:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       uint16_t crc;
2097:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2098:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       crc = BCP_CRC_calculate(PP_SlavePlatformProtocol[channel].dataCount, BCP_ChannelTable[channel
2099:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2100:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       if(crc == 0)
2101:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       {
2102:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         /* ok!!! */
2103:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         BCM_CountersUpdater(channel, BCP_PACKET_NUM_NOERR_CNT);
2104:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         PP_SlavePlatformProtocol[channel].state=PP_SLAVE_RX_OK;
2105:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	  		error = (IO_ErrorType)IO_E_OK;
2106:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       } else
2107:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       {
2108:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         	BCM_CountersUpdater(channel, BCP_PP_CORRUPTED_PKT_ERR_CNT);
2109:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 					error = (IO_ErrorType)IO_E_CHECK_PP;
2110:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       }
2111:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     }
2112:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     break;
2113:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2114:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     case PP_INVALID_CMD:
2115:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       error = (IO_ErrorType)IO_E_INVALID_VALUE;
2116:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     default:
2117:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     case PP_RX_OK_CMD:
2118:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2119:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     break;
2120:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   }
2121:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2122:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   return error;
2123:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** }
2124:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #endif
2125:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2126:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2127:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #if BCP_SLAVE_SUPPORT == TRUE && defined(CP_TYP8_16_SLAVE_PP_STATE_MACHINE)
2128:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** static IO_ErrorType PP_SlaveRxInterpreter(IO_ChannelType channel)
2129:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
2130:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   IO_ErrorType error = (IO_ErrorType)IO_E_WORKING;
2131:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   PP_ParserType* pCmd;
2132:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** //  uint8_t code; ToBeRemoved
2133:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2134:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   do {
2135:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     pCmd = (PP_ParserType* const)PP_ParserTable[channel]+PP_SlavePlatformProtocol[channel].state;
2136:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     PP_SlavePlatformProtocol[channel].state++;
2137:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     error=PP_CmdExe(pCmd, channel);
2138:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     if(error!=(IO_ErrorType)IO_E_BUSY)
2139:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     {
2140:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       break;
2141:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     }
2142:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   }while(1);
2143:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2144:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   return error;
2145:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** }
2146:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #endif
2147:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2148:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** BCP_BufferSizeType PP_Typ16ToBridgeConv(uint8_t seq_id, uint8_t* pInMem, uint8_t* pOutMem )
2149:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
2150:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2151:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	pOutMem[PP_GP_SEQ_INDEX]=seq_id;
2152:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	pOutMem[PP_GP_CMDID_INDEX]=pInMem[PP_TYP0_INDEX];
2153:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	pOutMem[PP_GP_HDR_INDEX]     = (uint8_t) (pInMem[PP_HDR_INDEX] & 0x01);
2154:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	pOutMem[PP_GP_TYP_INDEX]=pInMem[PP_TYP1_INDEX];
2155:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	pOutMem[PP_GP_LEN_INDEX]     = (uint8_t) (pInMem[PP_GLEN_INDEX] - 1);
2156:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	pOutMem[PP_GP_I2C_ADDR_INDEX]=pInMem[PP_GDAT_INDEX];
2157:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2158:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	(void)memcpy((&pOutMem[PP_GP_LEN_INDEX]+1), (&pInMem[PP_GDAT_INDEX]+1), pOutMem[PP_GP_LEN_INDEX]);
2159:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2160:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	return (uint16_t) (6 + pOutMem[PP_GP_LEN_INDEX]);
2161:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** }
2162:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2163:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /* TODO: temp. */
2164:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** BCP_BufferSizeType PP_BridgeToTyp16Conv(uint8_t* in, uint8_t* out)
2165:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
2166:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2167:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	BCP_BufferSizeType len;
2168:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2169:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	out[PP_ACK_POS] = in[PP_GP_ACK_ANS_INDEX];
2170:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	if(
2171:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	(in[PP_GP_CMDID_ANS_INDEX] == PP_CMD_EXTENDED_NO_ANSW)
2172:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	|| ((in[PP_GP_CMDID_ANS_INDEX] == PP_CMD_BASIC) && ((in[PP_GP_TYP_ANS_INDEX] & PP_BS_TYPE_MSK) != 
2173:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	)
2174:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	{
2175:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		return PP_ACK_SZ;
2176:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	}
2177:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	out[PP_STX_INDEX + PP_ACK_SZ] = PP_STX;
2178:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	out[PP_FTYP_INDEX + PP_ACK_SZ] = PP_FTYP_EE;
2179:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	out[PP_HDR_INDEX + PP_ACK_SZ] = in[PP_GP_HDR_ANS_INDEX];
2180:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	out[PP_TYP0_INDEX + PP_ACK_SZ] = in[PP_GP_CMDID_ANS_INDEX];
2181:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	out[PP_TYP1_INDEX + PP_ACK_SZ] = in[PP_GP_TYP_ANS_INDEX];
2182:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	out[PP_GLEN_INDEX + PP_ACK_SZ] = in[PP_GP_LEN_ANS_INDEX];
2183:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2184:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	/*lint -e{826} Warning 826 suspicious pointer-to-pointer conversion (area too small) */
2185:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     len=*(pBCP_BufferSizeType)(&in[PP_GP_SZ_ANS_INDEX]);
2186:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     if(len<PP_GP_LEN_ANS_INDEX)
2187:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     {
2188:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         len=1;
2189:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         return 1;
2190:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     } else
2191:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     {
2192:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         len= out[PP_GLEN_INDEX + PP_ACK_SZ];
2193:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	    len = (uint16_t) ((len == 0x00)? 0x100 : len);
2194:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     }
2195:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	
2196:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2197:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	
2198:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	(void)memcpy(out + (PP_GDAT_INDEX + PP_ACK_SZ), in+PP_GP_DAT_ANS_INDEX, len);
2199:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2200:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	if(out[PP_HDR_INDEX + PP_ACK_SZ] & PP_HDR_CRC)
2201:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	{
2202:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		crc_append((uint16_t) (PP_GLEN_INDEX + 1 + len), out+PP_ACK_SZ);
2203:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		return (uint16_t) (PP_GLEN_INDEX + 1 + len + 2 + PP_ACK_SZ);
2204:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	}
2205:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	else
2206:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	{
2207:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		chk_append((uint16_t) (PP_GLEN_INDEX + 1+len), out+PP_ACK_SZ);
2208:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		return (uint16_t) (PP_GLEN_INDEX + 1 + len + 1 + PP_ACK_SZ);
2209:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	}
2210:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2211:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** }
2212:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2213:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /**
2214:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** Macchina a stati di ricezione slave.
2215:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** Nel primo step imposta la ricezione dell'header.
2216:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** Il secondo step serve a determinare il numero dei byte da ricevere.
2217:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** Se il campo #PP_FTYP_INDEX e' di tipo #PP_FTYP_EE aggiorna la lunghezza
2218:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** con il valore campo #PP_LEN_INDEX e #PP_HDR_INDEX (checksum o crc).
2219:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** altrimenti (basic frame) rimane da ricevere solo il checksum.
2220:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** Nel terzo step verifica l'integrita' del frame calcolando il checksum o il crc.
2221:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2222:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \param [in]   channel Identificatore del canale di comunicazione.
2223:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2224:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \warning
2225:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2226:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \note
2227:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2228:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \version		1.0.0
2229:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \date 			10/04/2009
2230:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \author			Roberto Fioravanti
2231:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \private \memberof PP_SlavePlatformProtocolClassType
2232:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** */
2233:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2234:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #if !defined(CP_TYP8_16_SLAVE_PP_STATE_MACHINE)
2235:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** static IO_ErrorType PP_SlaveReceiverStateMachine(IO_ChannelType channel)
2236:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
2237:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   BCP_PacketSizeType len;
2238:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   BCP_OptionType option=0;
2239:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   IO_ErrorType err = (IO_ErrorType)IO_E_WORKING;
2240:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2241:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   switch(PP_SlavePlatformProtocol[channel].state)
2242:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   {
2243:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     case PP_SLAVE_RX_HDR_START:
2244:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2245:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       PP_SlavePlatformProtocol[channel].state++;
2246:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       len=5;
2247:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       (void) PP_SlaveReceiveData(channel, &len, option); /* header len */
2248:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     break;
2249:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     case PP_SLAVE_RX_ALL_START:
2250:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       PP_SlavePlatformProtocol[channel].state++;
2251:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2252:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       /* check syntax */
2253:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       if(BCP_ChannelTable[channel].rxBuffer[PP_STX_INDEX]==PP_STX)
2254:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       {
2255:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         if(BCP_ChannelTable[channel].rxBuffer[PP_FTYP_INDEX]==PP_FTYP_EE)
2256:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         {
2257:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           /* receive extended frame */
2258:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           len =   (BCP_ChannelTable[channel].rxBuffer[PP_LEN_INDEX]);
2259:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           len +=  ((BCP_ChannelTable[channel].rxBuffer[PP_HDR_INDEX] & PP_HDR_CRC)?2:1);
2260:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         } else
2261:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         {
2262:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			/* receive basic frame */
2263:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			len = 1;
2264:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         }
2265:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         
2266:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		option=IO_CLOSE;
2267:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		
2268:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		if((len+5) > BCP_ChannelTable[channel].rxBufferSize)
2269:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		{
2270:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			len=1;
2271:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		}
2272:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 				
2273:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         (void) PP_SlaveReceiveData(channel, &len,option);
2274:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2275:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       } else 
2276:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	  {
2277:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		BCM_CountersUpdater(channel, BCP_PP_CORRUPTED_PKT_ERR_CNT);
2278:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		err = (IO_ErrorType)IO_E_INVALID_VALUE;
2279:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		PP_SlavePlatformProtocol[channel].state=(IO_ValueType)PP_SLAVE_RX_ERR;
2280:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       }
2281:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2282:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     break;
2283:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     case PP_SLAVE_RX_ALL_COMPLETED:
2284:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         PP_SlavePlatformProtocol[channel].state++;
2285:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     break;
2286:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2287:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	case PP_SLAVE_RX_OK:
2288:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		err = (IO_ErrorType)IO_E_OK;
2289:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		/* -fallthrough */
2290:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	case PP_SLAVE_RX_ERR:
2291:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		/* lint -e{825} -fallthrough */
2292:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     default:
2293:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2294:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     	;
2295:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   }
2296:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   return err;
2297:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** }
2298:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #endif
2299:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2300:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2301:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /**
2302:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** Avvia la ricezione dello slave.
2303:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2304:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \param [in]   chid  Indice del canale di comunicazione
2305:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \param [in]   pLen  Puntatore alla dimensione in byte dei byte da ricevere
2306:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \param [in]   option Opzioni
2307:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** opzioni
2308:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2309:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \return 		codice di errore
2310:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \retval     IO_E_INVALID_VALUE: buffer o len non validi
2311:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****             IO_E_INVALID_CHANNEL_ID: canale DMA non corretto.
2312:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****             IO_E_OK: ricezione avviata regolarmente.
2313:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2314:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \warning
2315:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2316:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \note
2317:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2318:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \version		1.0.0
2319:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \date 			10/04/2009
2320:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \author			Roberto Fioravanti
2321:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \private \memberof PP_SlavePlatformProtocolClassType
2322:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** */
2323:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** static IO_ErrorType PP_SlaveReceiveData(IO_ChannelType chid, BCP_PacketSizeType * pLen, BCP_OptionT
 178                             		.loc 1 2323 0
 179                             	.LVL14:
 180 0000 71 00 F0                		add	#-16, r0
 181                             	.LCFI1:
 182                             		.loc 1 2323 0
 183 0003 CF 14                   		mov.B	r1, r4
 184 0005 DF 2E                   		mov.W	r2, r14
 185 0007 CF 35                   		mov.B	r3, r5
2324:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
2325:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   CommDriverParamType driverParam={0};
 186                             		.loc 1 2325 0
 187 0009 EF 01                   		mov.L	r0, r1
 188                             	.LVL15:
 189 000b 75 43 10                		mov.L	#16, r3
 190                             	.LVL16:
 191 000e 66 02                   		mov	#0, r2
 192 0010 7F 88                   		sstr.b
2326:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   driverParam.buffer=BCP_ChannelTable[chid].rxBuffer + PP_SlavePlatformProtocol[chid].dataCount;
 193                             		.loc 1 2326 0
 194 0012 5B 41                   		movu.B	r4, r1
 195 0014 EF 14                   		mov.L	r1, r4
 196                             	.LVL17:
 197 0016 6C 41                   		shll	#4, r1
 198                             	.LVL18:
 199 0018 70 11 00 00 00 00       		add	#_PP_SlavePlatformProtocol, r1
 200 001e B8 93                   		movu.W	4[r1], r3
 201 0020 75 14 1C                		mul	#28, r4
 202                             	.LVL19:
 203 0023 70 44 00 00 00 00       		add	#_BCP_ChannelTable, r4
2327:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   driverParam.len= *pLen;
 204                             		.loc 1 2327 0
 205 0029 D7 0E 02                		mov.W	r14, 4[r0]
2328:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   driverParam.option=option;
2329:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2330:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   PP_SlavePlatformProtocol[chid].dataCountLast= *pLen;
 206                             		.loc 1 2330 0
 207 002c D7 1E 03                		mov.W	r14, 6[r1]
2331:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   PP_SlavePlatformProtocol[chid].dataCount+=PP_SlavePlatformProtocol[chid].dataCountLast;
 208                             		.loc 1 2331 0
 209 002f 06 49 1E 02             		add	4[r1].W, r14
2326:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   driverParam.buffer=BCP_ChannelTable[chid].rxBuffer + PP_SlavePlatformProtocol[chid].dataCount;
 210                             		.loc 1 2326 0
 211 0033 06 89 43 05             		add	20[r4].L, r3
 212                             		.loc 1 2331 0
 213 0037 D7 1E 02                		mov.W	r14, 4[r1]
2332:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2333:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   return ((IO_PhyCommunicationSync)(BCP_ChannelTable[chid].StartRxSync))(&driverParam);
 214                             		.loc 1 2333 0
 215 003a ED 4E 03                		mov.L	12[r4], r14
2326:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   driverParam.buffer=BCP_ChannelTable[chid].rxBuffer + PP_SlavePlatformProtocol[chid].dataCount;
 216                             		.loc 1 2326 0
 217 003d A0 83                   		mov.L	r3, 8[r0]
2328:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   driverParam.option=option;
 218                             		.loc 1 2328 0
 219 003f 83 05                   		mov.B	r5, 12[r0]
 220                             		.loc 1 2333 0
 221 0041 EF 01                   		mov.L	r0, r1
 222 0043 7F 1E                   		jsr	r14
 223                             	.LVL20:
2334:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** }
 224                             		.loc 1 2334 0
 225 0045 5B 11                   		movu.B	r1, r1
 226 0047 67 04                   		rtsd	#16
 227                             	.LFE13:
 229                             		.section	.text.PP_GetSlaveState,"ax",@progbits
 230                             		.global	_PP_GetSlaveState
 232                             	_PP_GetSlaveState:
 233                             	.LFB1:
 523:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
 234                             		.loc 1 523 0
 235                             	.LVL21:
 524:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	return PP_SlavePlatformProtocol[ch].state;
 236                             		.loc 1 524 0
 237 0000 5B 11                   		movu.B	r1, r1
 238 0002 FD C4 1E                		shll	#4, r1, r14
 239 0005 70 EE 00 00 00 00       		add	#_PP_SlavePlatformProtocol, r14
 525:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** }
 240                             		.loc 1 525 0
 241 000b 59 E1 0C                		movu.B	12[r14], r1
 242                             	.LVL22:
 243 000e 02                      		rts
 244                             	.LFE1:
 246                             		.section	.text.PP_IsSlaveStateRxOK,"ax",@progbits
 247                             		.global	_PP_IsSlaveStateRxOK
 249                             	_PP_IsSlaveStateRxOK:
 250                             	.LFB2:
 544:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
 251                             		.loc 1 544 0
 252                             	.LVL23:
 253 0000 6E 7C                   		pushm	r7-r12
 254                             	.LCFI2:
 551:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	if(BCP_ChannelTable[ch].rxBuffer[PP_STX_INDEX]!= PP_STX)
 255                             		.loc 1 551 0
 256 0002 5B 1A                   		movu.B	r1, r10
 257 0004 EF A7                   		mov.L	r10, r7
 258 0006 75 17 1C                		mul	#28, r7
 259 0009 70 77 00 00 00 00       		add	#_BCP_ChannelTable, r7
 260 000f A9 7F                   		mov.L	20[r7], r7
 544:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
 261                             		.loc 1 544 0
 262 0011 CF 1B                   		mov.B	r1, r11
 551:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	if(BCP_ChannelTable[ch].rxBuffer[PP_STX_INDEX]!= PP_STX)
 263                             		.loc 1 551 0
 264 0013 58 7C                   		movu.B	[r7], r12
 265 0015 75 5C A5                		cmp	#0xa5, r12
 266 0018 3B 87 00                		bne	.L29
 556:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	if(BCP_ChannelTable[ch].rxBuffer[PP_FTYP_INDEX]==PP_FTYP_EE)
 267                             		.loc 1 556 0
 268 001b 59 7C 01                		movu.B	1[r7], r12
 269 001e 75 5C EE                		cmp	#0xee, r12
 270 0021 21 25                   		bne	.L23
 560:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			crc = BCP_CRC_calculate(PP_SlavePlatformProtocol[ch].dataCount, BCP_ChannelTable[ch].rxBuffer, 0
 271                             		.loc 1 560 0
 272 0023 FD C4 AC                		shll	#4, r10, r12
 558:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		if(BCP_ChannelTable[ch].rxBuffer[PP_HDR_INDEX] & PP_HDR_CRC)
 273                             		.loc 1 558 0
 274 0026 88 F3                   		mov.B	2[r7], r3
 560:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			crc = BCP_CRC_calculate(PP_SlavePlatformProtocol[ch].dataCount, BCP_ChannelTable[ch].rxBuffer, 0
 275                             		.loc 1 560 0
 276 0028 70 CC 00 00 00 00       		add	#_PP_SlavePlatformProtocol, r12
 558:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		if(BCP_ChannelTable[ch].rxBuffer[PP_HDR_INDEX] & PP_HDR_CRC)
 277                             		.loc 1 558 0
 278 002e 64 13                   		and	#1, r3
 560:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			crc = BCP_CRC_calculate(PP_SlavePlatformProtocol[ch].dataCount, BCP_ChannelTable[ch].rxBuffer, 0
 279                             		.loc 1 560 0
 280 0030 DD C1 02                		mov.W	4[r12], r1
 281                             	.LVL24:
 558:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		if(BCP_ChannelTable[ch].rxBuffer[PP_HDR_INDEX] & PP_HDR_CRC)
 282                             		.loc 1 558 0
 283 0033 20 0D                   		beq	.L24
 560:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			crc = BCP_CRC_calculate(PP_SlavePlatformProtocol[ch].dataCount, BCP_ChannelTable[ch].rxBuffer, 0
 284                             		.loc 1 560 0
 285 0035 EF 72                   		mov.L	r7, r2
 286 0037 FB 36 FF                		mov	#-1, r3
 287 003a 05 00 00 00             		bsr	_OCCRC_Calculate
 288                             	.LVL25:
 289 003e 2E 2E                   		bra	.L25
 290                             	.LVL26:
 291                             	.L24:
 563:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			crc = LIB_ChkComputation((uint16_t)(PP_SlavePlatformProtocol[ch].dataCount-1), BCP_ChannelTable[
 292                             		.loc 1 563 0
 293 0040 60 11                   		sub	#1, r1
 294 0042 EF 72                   		mov.L	r7, r2
 295 0044 2E 18                   		bra	.L31
 296                             	.LVL27:
 297                             	.L23:
 570:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		if(PP_SlavePlatformProtocol[ch].dataCount == 6)
 298                             		.loc 1 570 0
 299 0046 FD C4 AC                		shll	#4, r10, r12
 300 0049 70 CC 00 00 00 00       		add	#_PP_SlavePlatformProtocol, r12
 301 004f 5D CE 02                		movu.W	4[r12], r14
 302 0052 61 6E                   		cmp	#6, r14
 303 0054 21 4B                   		bne	.L29
 572:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			crc = LIB_ChkComputation((uint16_t)(PP_SlavePlatformProtocol[ch].dataCount - 1), BCP_ChannelTabl
 304                             		.loc 1 572 0
 305 0056 66 51                   		mov	#5, r1
 306                             	.LVL28:
 307 0058 EF 72                   		mov.L	r7, r2
 308 005a 66 03                   		mov	#0, r3
 309                             		.balign 2,3,3
 310                             	.L31:
 311 005c 05 00 00 00             		bsr	_LIB_ChkComputation
 312                             	.LVL29:
 574:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			crc ^= BCP_ChannelTable[ch].rxBuffer[PP_SlavePlatformProtocol[ch].dataCount-1];
 313                             		.loc 1 574 0
 314 0060 06 C9 C7 02             		add	4[r12].UW, r7
 573:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			crc &= (uint16_t)0x00FF;
 315                             		.loc 1 573 0
 316 0064 5B 11                   		movu.B	r1, r1
 317                             	.LVL30:
 574:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			crc ^= BCP_ChannelTable[ch].rxBuffer[PP_SlavePlatformProtocol[ch].dataCount-1];
 318                             		.loc 1 574 0
 319 0066 60 17                   		sub	#1, r7
 320 0068 FC 34 71                		xor	[r7].UB, r1
 321                             	.LVL31:
 322 006b 03                      		.balign 2,3,1
 323                             	.L25:
 583:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	if(crc==0)
 324                             		.loc 1 583 0
 325 006c 5F 17                   		movu.W	r1, r7
 326 006e 61 07                   		cmp	#0, r7
 586:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		BCM_CountersUpdater(ch, BCP_PACKET_NUM_NOERR_CNT);
 327                             		.loc 1 586 0
 328 0070 CF B1                   		mov.B	r11, r1
 329                             	.LVL32:
 583:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	if(crc==0)
 330                             		.loc 1 583 0
 331 0072 21 0A                   		bne	.L26
 332                             	.LVL33:
 586:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		BCM_CountersUpdater(ch, BCP_PACKET_NUM_NOERR_CNT);
 333                             		.loc 1 586 0
 334 0074 66 12                   		mov	#1, r2
 335 0076 05 00 00 00             		bsr	_BCM_CountersUpdater
 336                             	.LVL34:
 337 007a 2E 1C                   		bra	.L27
 338                             	.LVL35:
 339                             	.L26:
 591:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		PP_SlavePlatformProtocol[ch].state++;
 340                             		.loc 1 591 0
 341 007c 6C 4A                   		shll	#4, r10
 342 007e 70 AA 00 00 00 00       		add	#_PP_SlavePlatformProtocol, r10
 590:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		BCM_CountersUpdater(ch, BCP_PP_CORRUPTED_PKT_ERR_CNT);
 343                             		.loc 1 590 0
 344 0084 66 22                   		mov	#2, r2
 345 0086 05 00 00 00             		bsr	_BCM_CountersUpdater
 346                             	.LVL36:
 591:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		PP_SlavePlatformProtocol[ch].state++;
 347                             		.loc 1 591 0
 348 008a CD A7 0C                		mov.B	12[r10], r7
 349                             	.LVL37:
 350 008d 62 17                   		add	#1, r7
 351 008f C7 A7 0C                		mov.B	r7, 12[r10]
 352                             	.LVL38:
 592:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		err = (IO_ErrorType)IO_E_CHECK_PP;
 353                             		.loc 1 592 0
 354 0092 75 47 1C                		mov	#28, r7
 355                             	.LVL39:
 356 0095 03                      		.balign 2,3,1
 357                             	.L27:
 595:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	return (bool_t) (err == (IO_ErrorType) IO_E_OK);
 358                             		.loc 1 595 0
 359 0096 5B 77                   		movu.B	r7, r7
 360                             	.LVL40:
 361 0098 61 07                   		cmp	#0, r7
 362 009a FC DB 10                		sceq.L	r1
 363 009d 2E 05                   		bra	.L22
 364                             	.LVL41:
 365                             	.L29:
 554:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		return (bool_t)(err == (IO_ErrorType)IO_E_OK);
 366                             		.loc 1 554 0
 367 009f 66 01                   		mov.L	#0, r1
 368                             	.LVL42:
 369 00a1 03                      		.balign 2,3,2
 370                             	.L22:
 597:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** }
 371                             		.loc 1 597 0
 372 00a2 3F 7C 06                		rtsd	#24, r7-r12
 373                             	.LFE2:
 375 00a5 03                      		.section	.text.PP_SlaveStartResponse,"ax",@progbits
 376                             		.global	_PP_SlaveStartResponse
 378                             	_PP_SlaveStartResponse:
 379                             	.LFB3:
 619:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
 380                             		.loc 1 619 0
 381                             	.LVL43:
 382 0000 7E A7                   		push.l	r7
 383                             	.LCFI3:
 384 0002 71 00 F0                		add	#-16, r0
 385                             	.LCFI4:
 619:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
 386                             		.loc 1 619 0
 387 0005 CF 1E                   		mov.B	r1, r14
 621:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   CommDriverParamType requestParam={0};
 388                             		.loc 1 621 0
 389 0007 75 43 10                		mov.L	#16, r3
 390 000a EF 01                   		mov.L	r0, r1
 391                             	.LVL44:
 392 000c 66 02                   		mov	#0, r2
 393 000e 7F 88                   		sstr.b
 623:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   requestParam.len = PP_SlavePlatformProtocol[ch].answerCount;
 394                             		.loc 1 623 0
 395 0010 5B E1                   		movu.B	r14, r1
 396 0012 FD C4 1E                		shll	#4, r1, r14
 397                             	.LVL45:
 398 0015 70 EE 00 00 00 00       		add	#_PP_SlavePlatformProtocol, r14
 399 001b DD E7 04                		mov.W	8[r14], r7
 624:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	if(!PP_SlavePlatformProtocol[ch].dataCount)
 400                             		.loc 1 624 0
 401 001e 5D EE 02                		movu.W	4[r14], r14
 623:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   requestParam.len = PP_SlavePlatformProtocol[ch].answerCount;
 402                             		.loc 1 623 0
 403 0021 90 87                   		mov.W	r7, 4[r0]
 624:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	if(!PP_SlavePlatformProtocol[ch].dataCount)
 404                             		.loc 1 624 0
 405 0023 61 0E                   		cmp	#0, r14
 406 0025 21 05                   		bne	.L33
 626:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   	    requestParam.option |= IO_CLOSE_TX; /* last fragment */
 407                             		.loc 1 626 0
 408 0027 3C 0C 04                		mov.B	#4, 12[r0]
 409                             		.balign 2,3,2
 410                             	.L33:
 628:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   requestParam.buffer=BCP_ChannelTable[ch].txBuffer;
 411                             		.loc 1 628 0
 412 002a 75 11 1C                		mul	#28, r1
 413                             	.LVL46:
 414 002d 70 11 00 00 00 00       		add	#_BCP_ChannelTable, r1
 415 0033 A9 17                   		mov.L	16[r1], r7
 630:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   return ((IO_PhyCommunicationSync)(BCP_ChannelTable[ch].StartTxSync))(&requestParam);
 416                             		.loc 1 630 0
 417 0035 ED 1E 02                		mov.L	8[r1], r14
 628:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   requestParam.buffer=BCP_ChannelTable[ch].txBuffer;
 418                             		.loc 1 628 0
 419 0038 A0 87                   		mov.L	r7, 8[r0]
 630:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   return ((IO_PhyCommunicationSync)(BCP_ChannelTable[ch].StartTxSync))(&requestParam);
 420                             		.loc 1 630 0
 421 003a EF 01                   		mov.L	r0, r1
 422 003c 7F 1E                   		jsr	r14
 423                             	.LVL47:
 631:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** }
 424                             		.loc 1 631 0
 425 003e 5B 11                   		movu.B	r1, r1
 426 0040 3F 77 05                		rtsd	#20, r7-r7
 427                             	.LFE3:
 429 0043 03                      		.section	.text.PP_SlaveNotification,"ax",@progbits
 430                             		.global	_PP_SlaveNotification
 432                             	_PP_SlaveNotification:
 433                             	.LFB0:
 450:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
 434                             		.loc 1 450 0
 453:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	switch(notifVal)
 435                             		.loc 1 453 0
 436 0000 5B 11                   		movu.B	r1, r1
 437 0002 61 61                   		cmp	#6, r1
 438 0004 25 05 38 21 01          		bgtu	.L60
 450:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
 439                             		.loc 1 450 0
 440 0009 6E 7A                   		pushm	r7-r10
 441                             	.LCFI5:
 453:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	switch(notifVal)
 442                             		.loc 1 453 0
 443 000b FB A2 00 00 00 00       		mov.L	#.L43, r10
 444 0011 FE 61 AA                		mov.L	[r1,r10], r10
 445 0014 CF 27                   		mov.B	r2, r7
 446                             		
 447 0016 7F 0A                   	1:jmp	r10
 448                             		.section	.rodata.PP_SlaveNotification,"a",@progbits
 449                             		.balign 4
 450                             		.balign 4
 451                             	.L43:
 452 0000 00 00 00 00             		.long .L37
 453 0004 00 00 00 00             		.long .L38
 454 0008 00 00 00 00             		.long .L39
 455 000c 00 00 00 00             		.long .L40
 456 0010 00 00 00 00             		.long .L41
 457 0014 00 00 00 00             		.long .L53
 458 0018 00 00 00 00             		.long .L42
 459                             		.section	.text.PP_SlaveNotification
 460                             	.L38:
 459:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     		PP_SlavePlatformProtocol[chid].state= (IO_ValueType)PP_SLAVE_RX_HDR_START;
 461                             		.loc 1 459 0
 462 0018 5B 27                   		movu.B	r2, r7
 463 001a 6C 47                   		shll	#4, r7
 464 001c 70 77 00 00 00 00       		add	#_PP_SlavePlatformProtocol, r7
 465 0022 3C 7C 00                		mov.B	#0, 12[r7]
 461:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     		PP_SlavePlatformProtocol[chid].dataCount=0;
 466                             		.loc 1 461 0
 467 0025 3D 72 00                		mov.W	#0, 4[r7]
 468 0028 38 F8 00                		bra	.L53
 469                             	.L39:
 467:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     		if(PP_SlavePlatformProtocol[chid].dataCount)
 470                             		.loc 1 467 0
 471 002b 5B 2A                   		movu.B	r2, r10
 472 002d 6C 4A                   		shll	#4, r10
 473 002f 70 AA 00 00 00 00       		add	#_PP_SlavePlatformProtocol, r10
 474 0035 5D A1 02                		movu.W	4[r10], r1
 475 0038 61 01                   		cmp	#0, r1
 476 003a 3A E8 00                		beq	.L36
 469:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     			(BCM_SLAVE_ACTION_CB)(chid, (IO_NotificationType)IO_N_ACTION);
 477                             		.loc 1 469 0
 478 003d CF 21                   		mov.B	r2, r1
 479 003f 66 52                   		mov	#5, r2
 480 0041 05 00 00 00             		bsr	_ActionComm
 481 0045 38 DB 00                		bra	.L53
 482                             	.L40:
 483                             	.LBB4:
 484                             	.LBB5:
2241:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   switch(PP_SlavePlatformProtocol[channel].state)
 485                             		.loc 1 2241 0
 486 0048 5B 24                   		movu.B	r2, r4
 487 004a FD C4 4A                		shll	#4, r4, r10
 488 004d 70 AA 00 00 00 00       		add	#_PP_SlavePlatformProtocol, r10
 489 0053 59 A3 0C                		movu.B	12[r10], r3
 490 0056 61 13                   		cmp	#1, r3
 491 0058 20 1F                   		beq	.L46
 492 005a 61 03                   		cmp	#0, r3
 493 005c 20 11                   		beq	.L45
 494 005e 61 23                   		cmp	#2, r3
 495 0060 3A 83 00                		beq	.L47
2239:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   IO_ErrorType err = (IO_ErrorType)IO_E_WORKING;
 496                             		.loc 1 2239 0
 497 0063 61 33                   		cmp	#3, r3
 498 0065 FC DB 11                		scne.L	r1
 499 0068 6C 11                   		shll	#1, r1
 500 006a 38 B8 00                		bra	.L36
 501                             	.L45:
2247:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       (void) PP_SlaveReceiveData(channel, &len, option); /* header len */
 502                             		.loc 1 2247 0
 503 006d CF 21                   		mov.B	r2, r1
2245:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       PP_SlavePlatformProtocol[channel].state++;
 504                             		.loc 1 2245 0
 505 006f F9 A4 0C 01             		mov.B	#1, 12[r10]
2247:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       (void) PP_SlaveReceiveData(channel, &len, option); /* header len */
 506                             		.loc 1 2247 0
 507 0073 66 52                   		mov	#5, r2
 508 0075 2E 55                   		bra	.L61
 509                             	.L46:
2253:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       if(BCP_ChannelTable[channel].rxBuffer[PP_STX_INDEX]==PP_STX)
 510                             		.loc 1 2253 0
 511 0077 EF 4E                   		mov.L	r4, r14
 512 0079 75 1E 1C                		mul	#28, r14
 513 007c 70 EE 00 00 00 00       		add	#_BCP_ChannelTable, r14
 514 0082 ED EE 05                		mov.L	20[r14], r14
2250:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       PP_SlavePlatformProtocol[channel].state++;
 515                             		.loc 1 2250 0
 516 0085 F9 A4 0C 02             		mov.B	#2, 12[r10]
2253:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       if(BCP_ChannelTable[channel].rxBuffer[PP_STX_INDEX]==PP_STX)
 517                             		.loc 1 2253 0
 518 0089 58 E2                   		movu.B	[r14], r2
 519 008b 75 52 A5                		cmp	#0xa5, r2
 520 008e 21 44                   		bne	.L49
2255:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         if(BCP_ChannelTable[channel].rxBuffer[PP_FTYP_INDEX]==PP_FTYP_EE)
 521                             		.loc 1 2255 0
 522 0090 59 EA 01                		movu.B	1[r14], r10
 523 0093 75 5A EE                		cmp	#0xee, r10
 524 0096 21 17                   		bne	.L56
 525                             	.LBE5:
2259:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           len +=  ((BCP_ChannelTable[channel].rxBuffer[PP_HDR_INDEX] & PP_HDR_CRC)?2:1);
 526                             		.loc 1 2259 0
 527 0098 CD E2 02                		mov.B	2[r14], r2
 528                             	.LBB6:
2258:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           len =   (BCP_ChannelTable[channel].rxBuffer[PP_LEN_INDEX]);
 529                             		.loc 1 2258 0
 530 009b 59 EA 04                		movu.B	4[r14], r10
2259:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           len +=  ((BCP_ChannelTable[channel].rxBuffer[PP_HDR_INDEX] & PP_HDR_CRC)?2:1);
 531                             		.loc 1 2259 0
 532 009e 64 12                   		and	#1, r2
 533 00a0 FD 74 D2 01             		xor	#1, r2
 534 00a4 66 2E                   		mov.L	#2, r14
 535 00a6 FF 02 2E                		sub	r2, r14, r2
 536 00a9 4B A2                   		add	r10, r2
 537 00ab 2E 05                   		bra	.L50
 538                             	.L56:
2263:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			len = 1;
 539                             		.loc 1 2263 0
 540 00ad DF 32                   		mov.W	r3, r2
 541 00af 03                      		.balign 2,3,1
 542                             	.L50:
2268:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		if((len+5) > BCP_ChannelTable[channel].rxBufferSize)
 543                             		.loc 1 2268 0
 544 00b0 5F 2E                   		movu.W	r2, r14
 545 00b2 75 14 1C                		mul	#28, r4
 546 00b5 62 4E                   		add	#4, r14
 547 00b7 70 44 00 00 00 00       		add	#_BCP_ChannelTable+24, r4
 548 00bd 06 C5 4E 01             		cmp	2[r4].UW, r14
 549 00c1 29 05                   		blt	.L52
2270:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			len=1;
 550                             		.loc 1 2270 0
 551 00c3 66 12                   		mov	#1, r2
 552 00c5 03                      		.balign 2,3,1
 553                             	.L52:
2273:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         (void) PP_SlaveReceiveData(channel, &len,option);
 554                             		.loc 1 2273 0
 555 00c6 CF 71                   		mov.B	r7, r1
 556 00c8 66 23                   		mov	#2, r3
 557                             		.balign 2,3,3
 558                             	.L61:
 559 00ca 05 00 00 00             		bsr	_PP_SlaveReceiveData.isra.0
2239:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   IO_ErrorType err = (IO_ErrorType)IO_E_WORKING;
 560                             		.loc 1 2239 0
 561 00ce 66 21                   		mov	#2, r1
 562 00d0 2E 52                   		bra	.L36
 563                             	.L49:
2277:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		BCM_CountersUpdater(channel, BCP_PP_CORRUPTED_PKT_ERR_CNT);
 564                             		.loc 1 2277 0
 565 00d2 CF 71                   		mov.B	r7, r1
 566 00d4 66 22                   		mov	#2, r2
 567 00d6 05 00 00 00             		bsr	_BCM_CountersUpdater
2278:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		err = (IO_ErrorType)IO_E_INVALID_VALUE;
 568                             		.loc 1 2278 0
 569 00da 75 41 13                		mov	#19, r1
2279:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		PP_SlavePlatformProtocol[channel].state=(IO_ValueType)PP_SLAVE_RX_ERR;
 570                             		.loc 1 2279 0
 571 00dd F9 A4 0C 04             		mov.B	#4, 12[r10]
 572 00e1 2E 41                   		bra	.L36
 573                             	.L47:
2284:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         PP_SlavePlatformProtocol[channel].state++;
 574                             		.loc 1 2284 0
 575 00e3 F9 A4 0C 03             		mov.B	#3, 12[r10]
2239:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   IO_ErrorType err = (IO_ErrorType)IO_E_WORKING;
 576                             		.loc 1 2239 0
 577 00e7 CF 31                   		mov.B	r3, r1
 578 00e9 2E 39                   		bra	.L36
 579                             	.L41:
 580                             	.LBE6:
 581                             	.LBE4:
 484:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			PP_SlavePlatformProtocol[chid].answerCount=0;
 582                             		.loc 1 484 0
 583 00eb 5B 2A                   		movu.B	r2, r10
 584 00ed 6C 4A                   		shll	#4, r10
 485:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			PP_SlaveFragmentBuilder(chid, 0, 0);
 585                             		.loc 1 485 0
 586 00ef CF 21                   		mov.B	r2, r1
 484:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			PP_SlavePlatformProtocol[chid].answerCount=0;
 587                             		.loc 1 484 0
 588 00f1 70 AA 00 00 00 00       		add	#_PP_SlavePlatformProtocol, r10
 485:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			PP_SlaveFragmentBuilder(chid, 0, 0);
 589                             		.loc 1 485 0
 590 00f7 66 02                   		mov	#0, r2
 484:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			PP_SlavePlatformProtocol[chid].answerCount=0;
 591                             		.loc 1 484 0
 592 00f9 F9 A5 04 00             		mov.W	#0, 8[r10]
 485:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			PP_SlaveFragmentBuilder(chid, 0, 0);
 593                             		.loc 1 485 0
 594 00fd CF 23                   		mov.B	r2, r3
 595 00ff 05 00 00 00             		bsr	_PP_SlaveFragmentBuilder
 486:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			(void)PP_SlaveStartResponse(chid);
 596                             		.loc 1 486 0
 597 0103 CF 71                   		mov.B	r7, r1
 598 0105 05 00 00 00             		bsr	_PP_SlaveStartResponse
 599 0109 2E 17                   		bra	.L53
 600                             	.L42:
 493:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 				PP_EosnFunction(chid);
 601                             		.loc 1 493 0
 602 010b CF 21                   		mov.B	r2, r1
 603 010d 05 00 00 00             		bsr	_PP_EosnFunction
 604 0111 2E 0F                   		bra	.L53
 605                             	.L37:
 499:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			PP_SlavePlatformProtocol[chid].dataCount=64;
 606                             		.loc 1 499 0
 607 0113 5B 27                   		movu.B	r2, r7
 608 0115 6C 47                   		shll	#4, r7
 609 0117 70 77 00 00 00 00       		add	#_PP_SlavePlatformProtocol, r7
 610 011d 3D 72 40                		mov.W	#64, 4[r7]
 611                             		.balign 2,3,1
 612                             	.L53:
 451:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	IO_ErrorType result=(IO_ErrorType)IO_E_OK;
 613                             		.loc 1 451 0
 614 0120 66 01                   		mov	#0, r1
 615                             		.balign 2,3,1
 616                             	.L36:
 506:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** }
 617                             		.loc 1 506 0
 618 0122 5B 11                   		movu.B	r1, r1
 619 0124 3F 7A 04                		rtsd	#16, r7-r10
 620                             	.L60:
 621                             	.LCFI6:
 451:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	IO_ErrorType result=(IO_ErrorType)IO_E_OK;
 622                             		.loc 1 451 0
 623 0127 66 01                   		mov	#0, r1
 506:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** }
 624                             		.loc 1 506 0
 625 0129 5B 11                   		movu.B	r1, r1
 626 012b 02                      		rts
 627                             	.LFE0:
 629                             		.section	.text.PP_GetRequestLen,"ax",@progbits
 630                             		.global	_PP_GetRequestLen
 632                             	_PP_GetRequestLen:
 633                             	.LFB4:
 814:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
 634                             		.loc 1 814 0
 635                             	.LVL48:
 818:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	switch(info->paramType)
 636                             		.loc 1 818 0
 637 0000 59 2E 14                		movu.B	20[r2], r14
 638 0003 61 2E                   		cmp	#2, r14
 639 0005 21 09                   		bne	.L66
 821:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			return (IO_BufferSizeType)PP_LEN_FROM_GP_PARAM(info->pDataReq);
 640                             		.loc 1 821 0
 641 0007 EC 2E                   		mov.L	[r2], r14
 642 0009 59 E1 05                		movu.B	5[r14], r1
 643                             	.LVL49:
 644 000c 2E 04                   		bra	.L63
 645                             	.LVL50:
 646                             	.L66:
 852:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	  return 0;
 647                             		.loc 1 852 0
 648 000e 66 01                   		mov	#0, r1
 649                             	.LVL51:
 650                             		.balign 2,3,1
 651                             	.L63:
 853:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** }
 652                             		.loc 1 853 0
 653 0010 5B 11                   		movu.B	r1, r1
 654 0012 02                      		rts
 655                             	.LFE4:
 657 0013 03                      		.section	.text.PP_SlaveResponseBuilder,"ax",@progbits
 658                             		.global	_PP_SlaveResponseBuilder
 660                             	_PP_SlaveResponseBuilder:
 661                             	.LFB6:
1910:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
 662                             		.loc 1 1910 0
 663                             	.LVL52:
 664 0000 6E 7D                   		pushm	r7-r13
 665                             	.LCFI7:
 666 0002 60 C0                   		sub	#12, r0
 667                             	.LCFI8:
1910:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
 668                             		.loc 1 1910 0
 669 0004 A0 0B                   		mov.L	r3, 4[r0]
1914:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	PP_SlavePlatformProtocol[ch].dataCount=info.len;	/* init data */
 670                             		.loc 1 1914 0
 671 0006 5B 17                   		movu.B	r1, r7
 672 0008 FD C4 7E                		shll	#4, r7, r14
 673 000b DD 09 02                		mov.W	4[r0], r9
 674                             	.LVL53:
 675 000e 70 EE 00 00 00 00       		add	#_PP_SlavePlatformProtocol, r14
1923:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     if((info.option & PP_SL_RESP_ANSW_OPT) && (info.error == (IO_ErrorType)IO_E_OK))
 676                             		.loc 1 1923 0
 677 0014 CD 0A 07                		mov.B	7[r0], r10
1917:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     PP_SlavePlatformProtocol[ch].answerCount=0;				/* init answerCount */
 678                             		.loc 1 1917 0
 679 0017 71 ED 08                		add	#8, r14, r13
1914:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	PP_SlavePlatformProtocol[ch].dataCount=info.len;	/* init data */
 680                             		.loc 1 1914 0
 681 001a D7 E9 02                		mov.W	r9, 4[r14]
1915:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	PP_SlavePlatformProtocol[ch].pdata=info.address;	/* init address */
 682                             		.loc 1 1915 0
 683 001d E3 E2                   		mov.L	r2, [r14]
1917:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     PP_SlavePlatformProtocol[ch].answerCount=0;				/* init answerCount */
 684                             		.loc 1 1917 0
 685 001f F9 E5 04 00             		mov.W	#0, 8[r14]
1918:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	PP_SlavePlatformProtocol[ch].option=0;						/* init chk mode */
 686                             		.loc 1 1918 0
 687 0023 F9 E4 0D 00             		mov.B	#0, 13[r14]
 688 0027 62 CE                   		add	#12, r14
1910:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
 689                             		.loc 1 1910 0
 690 0029 E3 02                   		mov.L	r2, [r0]
 691 002b A0 84                   		mov.L	r4, 8[r0]
1919:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	PP_SlavePlatformProtocol[ch].crc=0;						/* init chk val */
 692                             		.loc 1 1919 0
 693 002d F9 D5 01 00             		mov.W	#0, 2[r13]
1923:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     if((info.option & PP_SL_RESP_ANSW_OPT) && (info.error == (IO_ErrorType)IO_E_OK))
 694                             		.loc 1 1923 0
 695 0031 FD 74 CA 01             		tst	#1, r10
1910:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
 696                             		.loc 1 1910 0
 697 0035 CF 1B                   		mov.B	r1, r11
 698 0037 CD 0C 06                		mov.B	6[r0], r12
 699                             	.LVL54:
1923:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     if((info.option & PP_SL_RESP_ANSW_OPT) && (info.error == (IO_ErrorType)IO_E_OK))
 700                             		.loc 1 1923 0
 701 003a 20 7C                   		beq	.L68
1923:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     if((info.option & PP_SL_RESP_ANSW_OPT) && (info.error == (IO_ErrorType)IO_E_OK))
 702                             		.loc 1 1923 0 is_stmt 0 discriminator 1
 703 003c 5B CA                   		movu.B	r12, r10
 704 003e 61 0A                   		cmp	#0, r10
 705 0040 21 76                   		bne	.L68
1926:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		if((BCP_ChannelTable[ch].rxBuffer[PP_HDR_INDEX]&PP_HDR_CRC) && (BCP_ChannelTable[ch].rxBuffer[PP_
 706                             		.loc 1 1926 0 is_stmt 1
 707 0042 EF 7A                   		mov.L	r7, r10
 708 0044 75 1A 1C                		mul	#28, r10
 709 0047 70 AA 00 00 00 00       		add	#_BCP_ChannelTable, r10
 710 004d ED A2 05                		mov.L	20[r10], r2
 711 0050 88 A4                   		mov.B	2[r2], r4
 712 0052 59 2A 01                		movu.B	1[r2], r10
 713 0055 FD 74 C4 01             		tst	#1, r4
 714 0059 20 11                   		beq	.L69
1926:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		if((BCP_ChannelTable[ch].rxBuffer[PP_HDR_INDEX]&PP_HDR_CRC) && (BCP_ChannelTable[ch].rxBuffer[PP_
 715                             		.loc 1 1926 0 is_stmt 0 discriminator 1
 716 005b 75 5A EE                		cmp	#0xee, r10
 717 005e 21 0C                   		bne	.L69
1928:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			PP_SlavePlatformProtocol[ch].option |= 1;
 718                             		.loc 1 1928 0 is_stmt 1
 719 0060 F9 E4 01 01             		mov.B	#1, 1[r14]
1929:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 			PP_SlavePlatformProtocol[ch].crc=0xFFFF;
 720                             		.loc 1 1929 0
 721 0064 F9 D5 01 FF             		mov.W	#-1, 2[r13]
 722 0068 2E 08                   		bra	.L80
 723                             	.L69:
1932:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         if(BCP_ChannelTable[ch].rxBuffer[PP_FTYP_INDEX] == PP_FTYP_EE)
 724                             		.loc 1 1932 0
 725 006a 75 5A EE                		cmp	#0xee, r10
 726 006d 21 09                   		bne	.L72
 727 006f 03                      		.balign 2,3,1
 728                             	.L80:
1935:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           displ_len=(uint8_t)((uint8_t)PP_ACK_SZ+(uint8_t)PP_LEN_INDEX);
 729                             		.loc 1 1935 0
 730 0070 66 58                   		mov	#5, r8
1934:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           cpy_len=4;
 731                             		.loc 1 1934 0
 732 0072 66 4A                   		mov	#4, r10
 733 0074 2E 06                   		bra	.L70
 734                             	.L72:
1941:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           displ_len=(uint8_t)PP_ACK_SZ+(uint8_t)PP_BS_LEN_ANS_INDEX;
 735                             		.loc 1 1941 0
 736 0076 66 38                   		mov	#3, r8
1940:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****           cpy_len=2;
 737                             		.loc 1 1940 0
 738 0078 66 2A                   		mov	#2, r10
 739                             		.balign 2,3,1
 740                             	.L70:
 741                             	.LVL55:
1946:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         LIB_MemcpyFromLast(&BCP_ChannelTable[ch].txBuffer[PP_ACK_SZ], BCP_ChannelTable[ch].rxBuffer
 742                             		.loc 1 1946 0
 743 007a EF 7D                   		mov.L	r7, r13
 744 007c 75 1D 1C                		mul	#28, r13
 745 007f 70 DD 00 00 00 00       		add	#_BCP_ChannelTable, r13
 746 0085 ED DD 04                		mov.L	16[r13], r13
 747 0088 CF A3                   		mov.B	r10, r3
 748 008a 71 D1 01                		add	#1, r13, r1
 749                             	.LVL56:
1949:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         BCP_ChannelTable[ch].txBuffer[displ_len]=(uint8_t)info.len;
 750                             		.loc 1 1949 0
 751 008d 5B 88                   		movu.B	r8, r8
1946:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         LIB_MemcpyFromLast(&BCP_ChannelTable[ch].txBuffer[PP_ACK_SZ], BCP_ChannelTable[ch].rxBuffer
 752                             		.loc 1 1946 0
 753 008f 05 00 00 00             		bsr	_LIB_MemcpyFromLast
 754                             	.LVL57:
1949:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         BCP_ChannelTable[ch].txBuffer[displ_len]=(uint8_t)info.len;
 755                             		.loc 1 1949 0
 756 0093 FE 08 D9                		mov.B	r9, [r8,r13]
1951:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         PP_SlavePlatformProtocol[ch].answerCount+=cpy_len+PP_LEN_SZ; /* chk not counted */
 757                             		.loc 1 1951 0
 758 0096 FD C4 7D                		shll	#4, r7, r13
 759 0099 70 DD 00 00 00 00       		add	#_PP_SlavePlatformProtocol, r13
 760 009f DD D3 04                		mov.W	8[r13], r3
 761 00a2 5B AA                   		movu.B	r10, r10
 762 00a4 62 13                   		add	#1, r3
 763 00a6 4B A3                   		add	r10, r3
 764 00a8 D7 D3 04                		mov.W	r3, 8[r13]
1953:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		PP_SlaveFragmentBuilder(ch, PP_ACK_SZ, (uint8_t)(PP_SlavePlatformProtocol[ch].answerCount+1));
 765                             		.loc 1 1953 0
 766 00ab CF B1                   		mov.B	r11, r1
 767 00ad 66 12                   		mov	#1, r2
 768 00af 62 13                   		add	#1, r3
 769 00b1 05 00 00 00             		bsr	_PP_SlaveFragmentBuilder
 770                             	.LVL58:
 771 00b5 03                      		.balign 2,3,1
 772                             	.L68:
2002:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   BCP_ChannelTable[ch].txBuffer[0] = (uint8_t) ((info.error == (IO_ErrorType)IO_E_OK) ? PP_ACK : PP
 773                             		.loc 1 2002 0
 774 00b6 EF 7A                   		mov.L	r7, r10
 775 00b8 75 1A 1C                		mul	#28, r10
 776 00bb 70 AA 00 00 00 00       		add	#_BCP_ChannelTable, r10
 777 00c1 5B CC                   		movu.B	r12, r12
 778 00c3 61 0C                   		cmp	#0, r12
 779 00c5 ED AB 04                		mov.L	16[r10], r11
 780                             	.LVL59:
 781 00c8 21 07                   		bne	.L73
 782 00ca 75 4A 5A                		mov	#0x5a, r10
 783 00cd 2E 05                   		bra	.L71
 784                             	.L73:
 785 00cf 75 4A 55                		mov	#0x55, r10
 786                             		.balign 2,3,1
 787                             	.L71:
2003:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   PP_SlavePlatformProtocol[ch].answerCount+=1;
 788                             		.loc 1 2003 0 discriminator 3
 789 00d2 6C 47                   		shll	#4, r7
 790                             	.LVL60:
 791 00d4 70 77 00 00 00 00       		add	#_PP_SlavePlatformProtocol, r7
2002:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   BCP_ChannelTable[ch].txBuffer[0] = (uint8_t) ((info.error == (IO_ErrorType)IO_E_OK) ? PP_ACK : PP
 792                             		.loc 1 2002 0 discriminator 3
 793 00da C3 BA                   		mov.B	r10, [r11]
2003:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   PP_SlavePlatformProtocol[ch].answerCount+=1;
 794                             		.loc 1 2003 0 discriminator 3
 795 00dc DD 7A 04                		mov.W	8[r7], r10
 796 00df 62 1A                   		add	#1, r10
 797 00e1 D7 7A 04                		mov.W	r10, 8[r7]
2004:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** }
 798                             		.loc 1 2004 0 discriminator 3
 799 00e4 3F 7D 0A                		rtsd	#40, r7-r13
 800                             	.LFE6:
 802 00e7 03                      		.section	.text.PP_Typ16ToBridgeConv,"ax",@progbits
 803                             		.global	_PP_Typ16ToBridgeConv
 805                             	_PP_Typ16ToBridgeConv:
 806                             	.LFB7:
2149:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
 807                             		.loc 1 2149 0
 808                             	.LVL61:
 809 0000 7E A7                   		push.l	r7
 810                             	.LCFI9:
2151:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	pOutMem[PP_GP_SEQ_INDEX]=seq_id;
 811                             		.loc 1 2151 0
 812 0002 C3 31                   		mov.B	r1, [r3]
2152:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	pOutMem[PP_GP_CMDID_INDEX]=pInMem[PP_TYP0_INDEX];
 813                             		.loc 1 2152 0
 814 0004 88 AF                   		mov.B	3[r2], r7
2149:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
 815                             		.loc 1 2149 0
 816 0006 EF 3E                   		mov.L	r3, r14
2152:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	pOutMem[PP_GP_CMDID_INDEX]=pInMem[PP_TYP0_INDEX];
 817                             		.loc 1 2152 0
 818 0008 80 3F                   		mov.B	r7, 1[r3]
2153:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	pOutMem[PP_GP_HDR_INDEX]     = (uint8_t) (pInMem[PP_HDR_INDEX] & 0x01);
 819                             		.loc 1 2153 0
 820 000a 88 A4                   		mov.B	2[r2], r4
2158:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	(void)memcpy((&pOutMem[PP_GP_LEN_INDEX]+1), (&pInMem[PP_GDAT_INDEX]+1), pOutMem[PP_GP_LEN_INDEX]);
 821                             		.loc 1 2158 0
 822 000c 71 E1 06                		add	#6, r14, r1
 823                             	.LVL62:
2153:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	pOutMem[PP_GP_HDR_INDEX]     = (uint8_t) (pInMem[PP_HDR_INDEX] & 0x01);
 824                             		.loc 1 2153 0
 825 000f 64 14                   		and	#1, r4
 826 0011 80 BC                   		mov.B	r4, 3[r3]
2154:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	pOutMem[PP_GP_TYP_INDEX]=pInMem[PP_TYP1_INDEX];
 827                             		.loc 1 2154 0
 828 0013 89 27                   		mov.B	4[r2], r7
 829 0015 81 37                   		mov.B	r7, 4[r3]
2155:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	pOutMem[PP_GP_LEN_INDEX]     = (uint8_t) (pInMem[PP_GLEN_INDEX] - 1);
 830                             		.loc 1 2155 0
 831 0017 89 2B                   		mov.B	5[r2], r3
 832                             	.LVL63:
 833 0019 60 13                   		sub	#1, r3
 834 001b C7 E3 05                		mov.B	r3, 5[r14]
2156:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	pOutMem[PP_GP_I2C_ADDR_INDEX]=pInMem[PP_GDAT_INDEX];
 835                             		.loc 1 2156 0
 836 001e 89 A7                   		mov.B	6[r2], r7
2158:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	(void)memcpy((&pOutMem[PP_GP_LEN_INDEX]+1), (&pInMem[PP_GDAT_INDEX]+1), pOutMem[PP_GP_LEN_INDEX]);
 837                             		.loc 1 2158 0
 838 0020 5B 33                   		movu.B	r3, r3
 839 0022 62 72                   		add	#7, r2
 840                             	.LVL64:
2156:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	pOutMem[PP_GP_I2C_ADDR_INDEX]=pInMem[PP_GDAT_INDEX];
 841                             		.loc 1 2156 0
 842 0024 C7 E7 02                		mov.B	r7, 2[r14]
2158:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	(void)memcpy((&pOutMem[PP_GP_LEN_INDEX]+1), (&pInMem[PP_GDAT_INDEX]+1), pOutMem[PP_GP_LEN_INDEX]);
 843                             		.loc 1 2158 0
 844 0027 7F 8F                   		smovf
 845                             	.LVL65:
2160:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	return (uint16_t) (6 + pOutMem[PP_GP_LEN_INDEX]);
 846                             		.loc 1 2160 0
 847 0029 59 E1 05                		movu.B	5[r14], r1
2161:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** }
 848                             		.loc 1 2161 0
 849 002c 62 61                   		add	#6, r1
 850 002e 3F 77 01                		rtsd	#4, r7-r7
 851                             	.LFE7:
 853                             		.section	.text.PP_BridgeToTyp16Conv,"ax",@progbits
 854                             		.global	_PP_BridgeToTyp16Conv
 856                             	_PP_BridgeToTyp16Conv:
 857                             	.LFB8:
2165:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
 858                             		.loc 1 2165 0
 859                             	.LVL66:
 860 0000 6E 7B                   		pushm	r7-r11
 861                             	.LCFI10:
2169:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	out[PP_ACK_POS] = in[PP_GP_ACK_ANS_INDEX];
 862                             		.loc 1 2169 0
 863 0002 89 17                   		mov.B	4[r1], r7
2165:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
 864                             		.loc 1 2165 0
 865 0004 EF 14                   		mov.L	r1, r4
2169:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	out[PP_ACK_POS] = in[PP_GP_ACK_ANS_INDEX];
 866                             		.loc 1 2169 0
 867 0006 C3 27                   		mov.B	r7, [r2]
2170:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	if(
 868                             		.loc 1 2170 0
 869 0008 B0 9F                   		movu.B	3[r1], r7
2165:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
 870                             		.loc 1 2165 0
 871 000a EF 2E                   		mov.L	r2, r14
2170:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	if(
 872                             		.loc 1 2170 0
 873 000c 75 57 9D                		cmp	#0x9d, r7
 874 000f 21 08                   		bne	.L85
 875 0011 03                      		.balign 2,3,1
 876                             	.L88:
2175:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		return PP_ACK_SZ;
 877                             		.loc 1 2175 0
 878 0012 66 11                   		mov	#1, r1
 879                             	.LVL67:
 880 0014 38 8A 00                		bra	.L86
 881                             	.LVL68:
 882                             	.L85:
2172:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	|| ((in[PP_GP_CMDID_ANS_INDEX] == PP_CMD_BASIC) && ((in[PP_GP_TYP_ANS_INDEX] & PP_BS_TYPE_MSK) != 
 883                             		.loc 1 2172 0
 884 0017 75 57 93                		cmp	#0x93, r7
 885 001a 21 0E                   		bne	.L87
2172:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	|| ((in[PP_GP_CMDID_ANS_INDEX] == PP_CMD_BASIC) && ((in[PP_GP_TYP_ANS_INDEX] & PP_BS_TYPE_MSK) != 
 886                             		.loc 1 2172 0 is_stmt 0 discriminator 1
 887 001c 89 97                   		mov.B	6[r1], r7
 888 001e 76 27 F0 00             		and	#0xf0, r7
 889 0022 75 57 10                		cmp	#16, r7
 890 0025 21 ED                   		bne	.L88
 891 0027 03                      		.balign 2,3,4
 892                             	.L87:
2177:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	out[PP_STX_INDEX + PP_ACK_SZ] = PP_STX;
 893                             		.loc 1 2177 0 is_stmt 1
 894 0028 F9 E4 01 A5             		mov.B	#0xffffffa5, 1[r14]
2178:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	out[PP_FTYP_INDEX + PP_ACK_SZ] = PP_FTYP_EE;
 895                             		.loc 1 2178 0
 896 002c F9 E4 02 EE             		mov.B	#-18, 2[r14]
2179:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	out[PP_HDR_INDEX + PP_ACK_SZ] = in[PP_GP_HDR_ANS_INDEX];
 897                             		.loc 1 2179 0
 898 0030 89 4F                   		mov.B	5[r4], r7
 899 0032 C7 E7 03                		mov.B	r7, 3[r14]
2180:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	out[PP_TYP0_INDEX + PP_ACK_SZ] = in[PP_GP_CMDID_ANS_INDEX];
 900                             		.loc 1 2180 0
 901 0035 88 CF                   		mov.B	3[r4], r7
 902 0037 C7 E7 04                		mov.B	r7, 4[r14]
2181:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	out[PP_TYP1_INDEX + PP_ACK_SZ] = in[PP_GP_TYP_ANS_INDEX];
 903                             		.loc 1 2181 0
 904 003a 89 C7                   		mov.B	6[r4], r7
 905 003c C7 E7 05                		mov.B	r7, 5[r14]
2182:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	out[PP_GLEN_INDEX + PP_ACK_SZ] = in[PP_GP_LEN_ANS_INDEX];
 906                             		.loc 1 2182 0
 907 003f CD 4A 07                		mov.B	7[r4], r10
 908 0042 C7 EA 06                		mov.B	r10, 6[r14]
 909                             	.LVL69:
2186:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     if(len<PP_GP_LEN_ANS_INDEX)
 910                             		.loc 1 2186 0
 911 0045 5C 47                   		movu.W	[r4], r7
 912 0047 61 67                   		cmp	#6, r7
 913 0049 25 C9                   		bleu	.L88
2192:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         len= out[PP_GLEN_INDEX + PP_ACK_SZ];
 914                             		.loc 1 2192 0
 915 004b 5B AA                   		movu.B	r10, r10
 916                             	.LVL70:
2193:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	    len = (uint16_t) ((len == 0x00)? 0x100 : len);
 917                             		.loc 1 2193 0
 918 004d 61 0A                   		cmp	#0, r10
 919 004f DF A7                   		mov.W	r10, r7
 920 0051 21 07                   		bne	.L89
 921 0053 FB 7A 00 01             		mov	#0x100, r7
 922 0057 03                      		.balign 2,3,1
 923                             	.L89:
 924                             	.LVL71:
2198:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	(void)memcpy(out + (PP_GDAT_INDEX + PP_ACK_SZ), in+PP_GP_DAT_ANS_INDEX, len);
 925                             		.loc 1 2198 0 discriminator 3
 926 0058 EF 73                   		mov.L	r7, r3
 927 005a 71 E1 07                		add	#7, r14, r1
 928                             	.LVL72:
 929 005d 71 42 08                		add	#8, r4, r2
 930                             	.LVL73:
 931 0060 76 23 FF 01             		and	#0x1ff, r3
 932 0064 7F 8F                   		smovf
2200:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	if(out[PP_HDR_INDEX + PP_ACK_SZ] & PP_HDR_CRC)
 933                             		.loc 1 2200 0 discriminator 3
 934 0066 CD E3 03                		mov.B	3[r14], r3
2202:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		crc_append((uint16_t) (PP_GLEN_INDEX + 1 + len), out+PP_ACK_SZ);
 935                             		.loc 1 2202 0 discriminator 3
 936 0069 EF 71                   		mov.L	r7, r1
 937 006b 62 61                   		add	#6, r1
 938 006d 71 EA 01                		add	#1, r14, r10
 939                             	.LVL74:
2200:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	if(out[PP_HDR_INDEX + PP_ACK_SZ] & PP_HDR_CRC)
 940                             		.loc 1 2200 0 discriminator 3
 941 0070 64 13                   		and	#1, r3
2202:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		crc_append((uint16_t) (PP_GLEN_INDEX + 1 + len), out+PP_ACK_SZ);
 942                             		.loc 1 2202 0 discriminator 3
 943 0072 DF 1B                   		mov.W	r1, r11
 944                             	.LBB11:
 945                             	.LBB12:
2335:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2336:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2337:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #if BCP_MASTER_SUPPORT == TRUE
2338:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** static IO_ErrorType  BCP_MasterProcessHeader (IO_ChannelType channel, BCP_BuilderType info)
2339:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
2340:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     (void) info;
2341:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****     
2342:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   if( (*(BCP_ChannelTable[channel].rxBuffer + (uint8_t)PP_STX_INDEX) != PP_STX)  ||
2343:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       (*(BCP_ChannelTable[channel].rxBuffer + (uint8_t)PP_FTYP_INDEX) != PP_FTYP_EE))
2344:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       {
2345:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****         return (IO_ErrorType)IO_E_INVALID_VALUE;
2346:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****       }
2347:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2348:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   return (IO_ErrorType)IO_E_OK;
2349:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** }
2350:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** #endif /* BCP_MASTER_SUPPORT == TRUE */
2351:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2352:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2353:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2354:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /**
2355:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** Appends checksum  to buffer \c pdata of length \c len
2356:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2357:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \param [in]   len number of bytes  (>=0)
2358:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \param [in]   pdata  pointer to data
2359:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2360:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \warning
2361:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2362:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \note
2363:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2364:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \version		1.0.0
2365:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \date 			15/04/2009
2366:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \author			Roberto Fioravanti
2367:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** */
2368:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** static void chk_append (IO_BufferSizeType  len, IO_BufferType pdata)
2369:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
2370:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	uint16_t crc = LIB_ChkComputation ((uint16_t)len, pdata, 0);
2371:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   *(pdata+len) = (uint8_t)crc;
2372:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** }
2373:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2374:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** /**
2375:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** Appends CRC to buffer \c pdata of length \c len
2376:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2377:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \param [in]   len number of bytes (>=0)
2378:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \param [in]   pdata  pointer to data
2379:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2380:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \warning
2381:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2382:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \note
2383:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 
2384:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \version		1.0.0
2385:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \date 			15/04/2009
2386:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** \author			Roberto Fioravanti
2387:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** */
2388:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** static void crc_append (IO_BufferSizeType  len, IO_BufferType pdata)
2389:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** {
2390:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   uint16_t crc = BCP_CRC_calculate (len, pdata, 0xFFFF);
 946                             		.loc 1 2390 0 discriminator 3
 947 0074 EF A2                   		mov.L	r10, r2
 948                             	.LBE12:
 949                             	.LBE11:
2200:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	if(out[PP_HDR_INDEX + PP_ACK_SZ] & PP_HDR_CRC)
 950                             		.loc 1 2200 0 discriminator 3
 951 0076 20 1B                   		beq	.L90
 952                             	.LBB15:
 953                             	.LBB13:
2391:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   *(pdata+len) = (uint8_t) (crc/256);
 954                             		.loc 1 2391 0
 955 0078 5F BB                   		movu.W	r11, r11
2390:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   uint16_t crc = BCP_CRC_calculate (len, pdata, 0xFFFF);
 956                             		.loc 1 2390 0
 957 007a FB 36 FF                		mov	#-1, r3
 958 007d 05 00 00 00             		bsr	_OCCRC_Calculate
 959                             	.LVL75:
 960                             		.loc 1 2391 0
 961 0081 4B BA                   		add	r11, r10
 962                             	.LVL76:
2392:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   *(pdata+len+1) = (uint8_t)crc;
 963                             		.loc 1 2392 0
 964 0083 C7 A1 01                		mov.B	r1, 1[r10]
2391:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   *(pdata+len) = (uint8_t) (crc/256);
 965                             		.loc 1 2391 0
 966 0086 FD 88 1B                		shlr	#8, r1, r11
 967                             	.LVL77:
 968                             	.LBE13:
 969                             	.LBE15:
2203:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		return (uint16_t) (PP_GLEN_INDEX + 1 + len + 2 + PP_ACK_SZ);
 970                             		.loc 1 2203 0
 971 0089 EF 71                   		mov.L	r7, r1
 972                             	.LVL78:
 973                             	.LBB16:
 974                             	.LBB14:
2391:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   *(pdata+len) = (uint8_t) (crc/256);
 975                             		.loc 1 2391 0
 976 008b C3 AB                   		mov.B	r11, [r10]
 977                             	.LBE14:
 978                             	.LBE16:
2203:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		return (uint16_t) (PP_GLEN_INDEX + 1 + len + 2 + PP_ACK_SZ);
 979                             		.loc 1 2203 0
 980 008d 62 91                   		add	#9, r1
 981 008f 2E 0F                   		bra	.L86
 982                             	.LVL79:
 983                             	.L90:
 984                             	.LBB17:
 985                             	.LBB18:
2370:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 	uint16_t crc = LIB_ChkComputation ((uint16_t)len, pdata, 0);
 986                             		.loc 1 2370 0
 987 0091 05 00 00 00             		bsr	_LIB_ChkComputation
 988                             	.LVL80:
2371:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c ****   *(pdata+len) = (uint8_t)crc;
 989                             		.loc 1 2371 0
 990 0095 5F BB                   		movu.W	r11, r11
 991 0097 FE 0B A1                		mov.B	r1, [r11,r10]
 992                             	.LBE18:
 993                             	.LBE17:
2208:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** 		return (uint16_t) (PP_GLEN_INDEX + 1 + len + 1 + PP_ACK_SZ);
 994                             		.loc 1 2208 0
 995 009a EF 71                   		mov.L	r7, r1
 996                             	.LVL81:
 997 009c 62 81                   		add	#8, r1
 998                             	.LVL82:
 999                             		.balign 2,3,1
 1000                             	.L86:
2211:C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM\BCP_PlatformProtocol.c **** }
 1001                             		.loc 1 2211 0
 1002 009e 5F 11                   		movu.W	r1, r1
 1003 00a0 3F 7B 05                		rtsd	#20, r7-r11
 1004                             	.LFE8:
 1006                             		.comm	_PP_len,2,2
 1007 00a3 03                      		.section	.bss.PP_SlavePlatformProtocol,"aw",@nobits
 1008                             		.balign 4
 1011                             	_PP_SlavePlatformProtocol:
 1012 0000 00 00 00 00 00 00 00 00 		.zero	32
 1012      00 00 00 00 00 00 00 00 
 1012      00 00 00 00 00 00 00 00 
 1012      00 00 00 00 00 00 00 00 
 1219                             	.Letext0:
 1220                             		.file 2 "C:\\Workspace\\FW_Platform2_5\\trunk\\HAL\\HAL_General/StandardTypes.h"
 1221                             		.file 3 "C:\\Workspace\\FW_Platform2_5\\trunk\\HAL\\RN_RX200/RN_RX200_cfg.h"
 1222                             		.file 4 "C:\\Workspace\\FW_Platform2_5\\trunk\\Drivers/IO_driver.h"
 1223                             		.file 5 "C:\\Workspace\\FW_Platform2_5\\trunk\\ProductModules\\PM_BusCOMM/BCP_General.h"
 1224                             		.file 6 "C:\\Workspace\\FW_Platform2_5\\trunk\\ProductModules\\PM_BusCOMM/BCP_PlatformProtocol.h"
 1225                             		.file 7 "C:\\Workspace\\FW_Platform2_5\\trunk\\CFG_DishWasher\\CFG_Inertia/BusCommPltf_cfg.h"
 1226                             		.file 8 "C:\\Workspace\\FW_Platform2_5\\trunk\\Drivers\\OCCRC/OCCRC_drv.h"
 1227                             		.file 9 "C:\\Workspace\\FW_Platform2_5\\trunk\\ProductModules\\PM_Library/LIB_Utilities.h"
 1228                             		.file 10 "C:/Workspace/FW_Platform2_5/trunk/ProductModules/PM_BusCOMM/BCP_BusCommMng.h"
